<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="亚木的前端之道">
<meta property="og:url" content="http://elona2011.github.io/index.html">
<meta property="og:site_name" content="亚木的前端之道">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="亚木的前端之道">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> 亚木的前端之道 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?eeb4365c48e9e9569f2c248f69ffc563";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">亚木的前端之道</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-wiki">
          <a href="/wiki" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            menu.wiki
          </a>
        </li>
      
        
        <li class="menu-item menu-item-github">
          <a href="https://github.com/elona2011" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            menu.github
          </a>
        </li>
      
        
        <li class="menu-item menu-item-weibo">
          <a href="http://weibo.com/u/2469552951" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            menu.weibo
          </a>
        </li>
      
        
        <li class="menu-item menu-item-twitter">
          <a href="https://twitter.com/cdszbjj" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            menu.twitter
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/09/angularjs/" itemprop="url">
                  angularjs
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-02-09T09:29:03+08:00" content="2016-02-09">
              2016-02-09
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="代码规范">代码规范</h1><p><a href="https://github.com/johnpapa/angular-styleguide" target="_blank" rel="external">https://github.com/johnpapa/angular-styleguide</a></p>
<h1 id="入门教程">入门教程</h1><p><a href="http://www.revillweb.com/tutorials/angularjs-in-30-minutes-angularjs-tutorial/" target="_blank" rel="external">http://www.revillweb.com/tutorials/angularjs-in-30-minutes-angularjs-tutorial/</a><br><a href="https://github.com/colorfest/angularjs" target="_blank" rel="external">https://github.com/colorfest/angularjs</a></p>
<h1 id="原理">原理</h1><p><a href="https://github.com/angular/angular.js/wiki/Understanding-Dependency-Injection" target="_blank" rel="external">https://github.com/angular/angular.js/wiki/Understanding-Dependency-Injection</a></p>
<p>Providers are objects that provide (create) instances of services and expose configuration APIs that can be used to control the creation and runtime behavior of a service.</p>
<h1 id="$scope-$apply">$scope.$apply</h1><p><a href="https://docs.angularjs.org/error/$rootScope/inprog?p0=$apply" target="_blank" rel="external">all Controller code should expect to be run within Angular, so it should have no need to call $apply or $digest. Conversely, code that is being trigger directly as a call back to some external event, from the DOM or 3rd party library, should expect that it is never called from within Angular, and so any Angular application code that it calls should first be wrapped in a call to $apply.</a></p>
<h1 id="Directive">Directive</h1><h2 id="ng-app">ng-app</h2><h2 id="ng-controller">ng-controller</h2><h2 id="ng-model">ng-model</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Search</span>: &lt;<span class="keyword">input</span> ng-model=<span class="string">"query"</span>&gt;</div></pre></td></tr></table></figure>
<h2 id="ng-repeat">ng-repeat</h2><figure class="highlight django"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"phone in phones | filter:query"</span>&gt;</span></span></div><div class="line">  <span class="template-variable">&#123;&#123;phone.name&#125;&#125;</span><span class="xml"></span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="template-variable">&#123;&#123;phone.snippet&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></div><div class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div></pre></td></tr></table></figure>
<h1 id="Custom_Directive">Custom Directive</h1><p>在自定义指令中传入回调函数，还可以传参<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">custom-directive</span> <span class="attr">callback</span>=<span class="string">"callback(data)"</span>&gt;</span><span class="tag">&lt;/<span class="name">custom-directive</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h1 id="Service">Service</h1><p>$exceptionHandler 可以重写exception catch</p>
<h1 id="Building">Building</h1><p><a href="https://docs.angularjs.org/misc/contribute" target="_blank" rel="external">https://docs.angularjs.org/misc/contribute</a></p>
<p><code>grunt webserver</code> start the web server</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/10/dota2/" itemprop="url">
                  ubuntu下玩dota2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-01-10T00:19:01+08:00" content="2016-01-10">
              2016-01-10
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1122334455非常爽，原以为这么流行的游戏肯定不会原生支持Linux，结果居然支持，效果还很好，很流畅。下面说一下安装和设置的方法：<br>终端下运行：<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>wget <span class="symbol">http:</span>/<span class="regexp">/media.steampowered.com/client</span><span class="regexp">/installer/steam</span>.deb</div><div class="line"><span class="variable">$ </span>sudo apt-get install gdebi-core</div><div class="line"><span class="variable">$ </span>sudo gdebi steam.deb      <span class="comment">#安装steam</span></div><div class="line"><span class="variable">$ </span>sudo apt-get install libgl1-mesa-<span class="symbol">dri:</span>i386 libgl1-mesa-<span class="symbol">glx:</span>i386 <span class="symbol">libc6:</span>i386     <span class="comment">#安装依赖包</span></div></pre></td></tr></table></figure></p>
<p>安装完成后桌面会有steam图标，国服的账号就可以登陆，随后下载DOTA2。steam中还有很多别的游戏，很多都支持三平台（windows, Mac, Linux），有很多经典，自己研究吧。</p>
<p>下载好是这样的，英文版本，在游戏设置中调成全屏显示就可以游戏啦！<br><img src="/2016/01/10/dota2/004.png" alt="004.png" title=""></p>
<h1 id="鼠标设置">鼠标设置</h1><p>ubuntu默认的鼠标移动速度对我来说有点快，会出现游戏中，特别是激战中找不到鼠标指针的情况。<br>DOTA2游戏设置无法调整鼠标移动速度，需要在系统设置里改。ubuntu15.10系统似乎没有鼠标移动速度的设置，在软件中心搜索鼠标，安装”键盘和鼠标“这个工具，可以调整鼠标移动速度。<br><img src="/2016/01/10/dota2/003.png" alt="003.png" title=""></p>
<h1 id="国服设置">国服设置</h1><p>在Dota2游戏属性里添加<code>-perfectworld</code><br><img src="/2016/01/10/dota2/005.png" alt="005.png" title=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/03/Angular2/" itemprop="url">
                  Angular2学习笔记(2.0.0-alpha.40)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-01-03T23:17:12+08:00" content="2016-01-03">
              2016-01-03
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>angular2由组件组成，每个组件都有自己的类、模板和样式。angular2通过不断地构造组件，搭建组件，复用组件来完成项目。<br>所有项目总是会有一个组件树，所有的组件都在组件树上，父组件包含着子组件。根组件由bootstrap启动。</p>
<p>下面是一个典型的组件文件host.ts：<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Component, View &#125; from <span class="string">'angular2/angular2'</span>;</div><div class="line"><span class="keyword">import</span> &#123; RouteConfig, RouterLink, RouterOutlet &#125; from <span class="string">'angular2/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123; Search &#125; from <span class="string">'/app/recommended/recommendedNavigation/test/search'</span>;</div><div class="line"><span class="keyword">import</span> &#123; Artist &#125; from <span class="string">'/app/recommended/recommendedNavigation/test/artist'</span>;</div><div class="line"></div><div class="line">@Component(&#123;</div><div class="line">	selector: <span class="string">'host'</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">@View(&#123;</div><div class="line">	directives: [RouterLink, RouterOutlet],</div><div class="line">	template: `</div><div class="line">		&lt;header&gt;</div><div class="line">			&lt;a [router-link]=<span class="string">"['./search']"</span>&gt;Search&lt;/a&gt;</div><div class="line">		&lt;/header&gt;</div><div class="line">		&lt;main&gt;</div><div class="line">			&lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;</div><div class="line">			&lt;router-outlet&gt;&lt;/router-outlet&gt;</div><div class="line">		&lt;/main&gt;`,</div><div class="line">	styleUrls: [<span class="string">'host.css'</span>]</div><div class="line">&#125;)</div><div class="line"></div><div class="line">@RouteConfig([</div><div class="line">	&#123; path: <span class="string">'/'</span>, redirectTo: <span class="string">'/search'</span> &#125;,</div><div class="line">	&#123; path: <span class="string">'/search'</span>, as: <span class="string">'search'</span>, component: Search &#125;,</div><div class="line">	&#123; path: <span class="string">'/artist/:id'</span>, as: <span class="string">'artist'</span>, component: Artist &#125;</div><div class="line">])</div><div class="line"></div><div class="line">export class Host &#123;</div><div class="line">	title: string;</div><div class="line">	constructor() &#123;</div><div class="line">		this.title = <span class="string">' title'</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>1    Typescript and ES6<br>angular2采用typescript语法和ES6 ，比较常用的有：</p>
<p>1.1    箭头函数<br>chrome的调试窗口中箭头函数中的this会显示为指向Window，该显示是错误的，实际指向class</p>
<p>1.2    let<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;<span class="number">5</span>;i++)&#123;</div><div class="line"> setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(i);</div><div class="line"> &#125;,i*<span class="number">1000</span>);</div><div class="line">&#125; <span class="comment">//输出4个5</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;<span class="number">5</span>;i++)&#123;</div><div class="line"> setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(i);</div><div class="line"> &#125;,i*<span class="number">1000</span>);</div><div class="line">&#125; <span class="comment">//输出1，2，3，4</span></div></pre></td></tr></table></figure></p>
<p>1.3    class<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;<span class="comment">//定义类和构造函数</span></div><div class="line">    name: string = <span class="string">'World'</span>;</div><div class="line">    <span class="keyword">constructor</span>() &#123;</div><div class="line">        setTimeout(() =&gt; &#123;</div><div class="line">          <span class="keyword">this</span>.name = <span class="string">'NEW World'</span></div><div class="line">        &#125;, <span class="number">2000</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Constructor构造函数，初始化数据</p>
<p>参考：<br><a href="http://www.typescriptlang.org/Handbook" target="_blank" rel="external">http://www.typescriptlang.org/Handbook</a><br><a href="http://es6.ruanyifeng.com/" target="_blank" rel="external">http://es6.ruanyifeng.com/</a></p>
<p>2    import,export<br>import引入依赖的模块及自定义组件<br>例1：<code>import {ComponentMetadata as Component, ViewMetadata as View, bootstrap, CORE_DIRECTIVES } from &#39;angular2/angular2&#39;;</code><br>例2：<code>import {Zippy} from &#39;zippy&#39;;</code></p>
<p>export输出组件和函数<br>例1：<code>export class Search {}</code><br>例2：<code>export function status(response) {...}</code></p>
<p>2.1    依赖关系<br>FORM_DIRECTIVES:ng-model<br>ROUTER_DIRECTIVES:<router-outlet><br>CORE_DIRECTIVES:NgIf, NgFor, Pipe, OnInit        包含所有CORE里的指令<br>例1：<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Component, View, CORE_DIRECTIVES, NgStyle&#125; from <span class="string">'angular2/angular2'</span>;</div><div class="line"><span class="meta">@View(&#123;</span></div><div class="line">	directives: [CORE_DIRECTIVES, NgStyle]</div><div class="line">&#125;)</div></pre></td></tr></table></figure></router-outlet></p>
<p>例2：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Component, View, EventEmitter&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div><div class="line"><span class="keyword">import</span> &#123;FORM_DIRECTIVES&#125; <span class="keyword">from</span> <span class="string">'angular2/forms'</span>;</div><div class="line"><span class="keyword">import</span> &#123; RouterOutlet &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123; RouterLink &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123; ROUTER_DIRECTIVES, RouteConfig &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123; ROUTER_BINDINGS, LocationStrategy, HashLocationStrategy &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div></pre></td></tr></table></figure></p>
<p>3    @Component组件<br>3.1    selector<br>组件名称。<br>例：<code>selector: &#39;zippy&#39;,</code><br>3.2    properties<br>申明组件的外部属性,其它组件可以通过这个属性传入参数。<br>例1：<code>properties:[&#39;myTitle1&#39;,’myTitle2’]</code><br>例2：<code>&lt;zippy [my-title1]=&quot;title2&quot;&gt;&lt;/zippy&gt;</code> 绑定title2变量<br>例3：<code>&lt;zippy [my-title2] = &quot;’title2’&quot;&gt;&lt;/zippy&gt;</code> 绑定title2字符串<br>例4：<code>[&#39;tabTitle: tab-title&#39;]</code>申明变量tabTitle,将tab-title绑定到组件内的tabTitle变量上。内部绑定的优先级高于外部绑定，例如例4的绑定高于例2的绑定。<br>3.3    events<br>申明事件。<br>例：<code>events: [&#39;open&#39;, &#39;close&#39;],</code></p>
<p>3.4 host<br>内部事件。<br>例1：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">host: &#123;</div><div class="line">    <span class="string">'(mouseenter)'</span>: 'focusElement(<span class="string">"77"</span>)'</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p>例2：内部绑定和外部绑定的相互切换。一个属性同时在template和组件class中绑定，只要有其中一个值改变，属性值就会刷新。<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;View, Component, bootstrap, Directive, Host, Optional&#125; from <span class="string">'angular2/angular2'</span></div><div class="line"></div><div class="line"><span class="meta">@Component(&#123;</span></div><div class="line">  selector: <span class="meta-string">'bank-account'</span>,</div><div class="line">  properties: [<span class="meta-string">'bankName:bank-name'</span>, <span class="meta-string">'id: account-id'</span>],</div><div class="line">  host: &#123;</div><div class="line">    <span class="meta-string">'(mouseout)'</span>: <span class="meta-string">'focusElement("77")'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"><span class="meta">@View(&#123;</span></div><div class="line">  template: `</div><div class="line">    Bank Name: &#123;&#123;bankName&#125;&#125;</div><div class="line">    Account Id: &#123;&#123;id&#125;&#125;</div><div class="line">  `</div><div class="line">&#125;)</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">BankAccount</span> </span>&#123;</div><div class="line">  bankName: string;</div><div class="line">  id: string;</div><div class="line">  </div><div class="line">  <span class="keyword">constructor</span>()&#123;</div><div class="line">    <span class="keyword">this</span>.bankName = <span class="string">"222"</span>;</div><div class="line">  &#125;</div><div class="line">  focusElement(isFocus) &#123;</div><div class="line">    <span class="keyword">this</span>.bankName = isFocus;</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">// this property is not bound, and won't be automatically updated by Angular</span></div><div class="line">  normalizedBankName: string;</div><div class="line">&#125;</div><div class="line"><span class="meta">@Component(&#123;selector: <span class="meta-string">'app'</span>&#125;)</span></div><div class="line"><span class="meta">@View(&#123;</span></div><div class="line">  template: `</div><div class="line">    &lt;bank-account [bank-name]=<span class="meta-string">"RBC1"</span> account-id=<span class="meta-string">"4747"</span> (click)=<span class="string">"onclick()"</span>&gt;&lt;/bank-account&gt;</div><div class="line">  `,</div><div class="line">  directives: [BankAccount]</div><div class="line">&#125;)</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</div><div class="line">  RBC1: string;</div><div class="line">  <span class="keyword">constructor</span>()&#123;</div><div class="line">    <span class="keyword">this</span>.RBC1 = <span class="string">"2221"</span>;</div><div class="line">  &#125;</div><div class="line">  onclick()&#123;</div><div class="line">    <span class="keyword">this</span>.RBC1 = <span class="keyword">this</span>.RBC1+<span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">bootstrap(App);</div></pre></td></tr></table></figure></p>
<p>3.5 bindings<br>绑定依赖，先要import该依赖。绑定可供子模块查询。<br>例：<code>bindings: [IptvService, AuthenticateService]</code></p>
<p>3.6 viewBindings<br><code>viewBindings:[bind(VideoService).toClass(SpecificVideoService)]</code>  绑定的对象只能供本模块使用，不会影响到子模块</p>
<p>4 @View视图<br>4.1 directives<br>template中用到的angular指令和自定义指令，camel驼峰写法。<br>例：<code>directives: [EzCard],</code></p>
<p>4.2 template<br>该视图的模板，html代码。directives要用小写中划线写法。<br>例：<code>template: ‘&lt; ez-card [title1]=&quot;&#39;deeeeeeee&#39;&quot;&gt;&lt;/ ez-card &gt;’,</code></p>
<p>HTML元素属性的几种写法：<br><code>title=&quot;Details&quot;</code>：title属性为字符串Details<br><code>[title]=&quot;&#39;Details&#39;&quot;</code>： title属性为字符串Details<br><code>[title]=&quot;Details&quot;</code>： title属性为变量Details<br><code>bind-title=”’Details’”</code>： title属性为字符串Details</p>
<p> <code>&lt;input #searchvalue (keyup)=&quot;searchArtist($event, searchvalue.value)&quot;/&gt;</code> #searchvalue会双向绑定到input对象上，searchvalue.value可实时更新input输入值</p>
<p>4.3 templateUrl<br>模板地址，引入外部HTML文件。例：<code>templateUrl: &#39;zippy.html&#39;</code></p>
<p>4.4 styles<br><code>styles: [&#39;.tabs1 {background-color: green;}&#39;,&#39;{...}&#39;],</code> 声明的样式只在本组件中可用，默认，取决于encapsulation</p>
<p>4.5 styleUrls<br><code>styleUrls: [&#39;zippy.css&#39;],</code> 声明外部样式文件<br>此外还可以直接写在template中，多用于关联动态样式，如生成动态获取的背景图片</p>
<p>下面有导致hexo出错的BUG</p>
<p>4.6 encapsulation<br>封装设置。<br>ViewEncapsulation.None 无样式封装，样式位于<head>中，将全局可用。<br>ViewEncapsulation.Emulated 样式模拟，样式位于<head>中，仅当前组件可用，默认。<br>ViewEncapsulation.Native 当前组件可用，样式位于组件中，仅当前组件可用。</head></head></p>
<p>5 @Directive<br><a href="https://github.com/angular/angular/blob/master/modules/angular2/docs/core/02_directives.md" target="_blank" rel="external">https://github.com/angular/angular/blob/master/modules/angular2/docs/core/02_directives.md</a></p>
<p>6 常用指令<br>6.1 #<br>定义一个当前组件的局部变量，绑定当前位置的HTML元素，变量名只能小写<br>例1：<code>&lt;input #searchvalue (keyup)=&quot;searchArtist(searchvalue.value)&quot;/&gt;</code><br>例2：<code>&lt;input class=&quot;form-control&quot; type=&quot;text&quot; placeholder=&quot;Your new friend&quot; #friend (keyup) =&quot;update(friend.value)&quot;&gt;</code></p>
<p>6.2 \{\{\}\}</p>
<p>动态变量或表达式<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">例<span class="number">1</span>：``&#123;&#123;i<span class="meta">%6</span>&#125;&#125;``</div><div class="line">例<span class="number">2</span>：``&lt;div&gt;&#123;&#123;visible?<span class="string">'&amp;blacktriangledown;'</span>:<span class="string">'&amp;blacktriangleright;'</span>&#125;&#125;&lt;/div&gt;``</div></pre></td></tr></table></figure></p>
<p>6.3 <code>[]</code><br>[参数]用于父组件向子组件传递参数，(事件)用于子组件向父组件传递事件。<br>例：<code>&lt;todo-cmp [model]=&quot;todo&quot; (complete)=&quot;onCompletingTodo(todo)&quot;&gt;&lt;/todo-cmp&gt;</code> 其中model是子组件中定义的参数，todo是父组件中的变量，如果todo改变，model也会自动改变；complete是子组件中定义的事件，onCompletingTodo是父组件中的方法，complete事件将触发onCompletingTodo方法。</p>
<p>6.4 ng-for<br>例：<code>&lt;div *ng-for=&quot;#content of contentList; #i= index&quot;&gt;</code><br>contentList为将遍历的数组，#content为遍历数组的元素，#i为数组指针。在当前div及其子元素可用<code><p>angular2由组件组成，每个组件都有自己的类、模板和样式。angular2通过不断地构造组件，搭建组件，复用组件来完成项目。<br>所有项目总是会有一个组件树，所有的组件都在组件树上，父组件包含着子组件。根组件由bootstrap启动。</p>
<p>下面是一个典型的组件文件host.ts：<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Component, View &#125; from <span class="string">'angular2/angular2'</span>;</div><div class="line"><span class="keyword">import</span> &#123; RouteConfig, RouterLink, RouterOutlet &#125; from <span class="string">'angular2/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123; Search &#125; from <span class="string">'/app/recommended/recommendedNavigation/test/search'</span>;</div><div class="line"><span class="keyword">import</span> &#123; Artist &#125; from <span class="string">'/app/recommended/recommendedNavigation/test/artist'</span>;</div><div class="line"></div><div class="line">@Component(&#123;</div><div class="line">	selector: <span class="string">'host'</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">@View(&#123;</div><div class="line">	directives: [RouterLink, RouterOutlet],</div><div class="line">	template: `</div><div class="line">		&lt;header&gt;</div><div class="line">			&lt;a [router-link]=<span class="string">"['./search']"</span>&gt;Search&lt;/a&gt;</div><div class="line">		&lt;/header&gt;</div><div class="line">		&lt;main&gt;</div><div class="line">			&lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;</div><div class="line">			&lt;router-outlet&gt;&lt;/router-outlet&gt;</div><div class="line">		&lt;/main&gt;`,</div><div class="line">	styleUrls: [<span class="string">'host.css'</span>]</div><div class="line">&#125;)</div><div class="line"></div><div class="line">@RouteConfig([</div><div class="line">	&#123; path: <span class="string">'/'</span>, redirectTo: <span class="string">'/search'</span> &#125;,</div><div class="line">	&#123; path: <span class="string">'/search'</span>, as: <span class="string">'search'</span>, component: Search &#125;,</div><div class="line">	&#123; path: <span class="string">'/artist/:id'</span>, as: <span class="string">'artist'</span>, component: Artist &#125;</div><div class="line">])</div><div class="line"></div><div class="line">export class Host &#123;</div><div class="line">	title: string;</div><div class="line">	constructor() &#123;</div><div class="line">		this.title = <span class="string">' title'</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>1    Typescript and ES6<br>angular2采用typescript语法和ES6 ，比较常用的有：</p>
<p>1.1    箭头函数<br>chrome的调试窗口中箭头函数中的this会显示为指向Window，该显示是错误的，实际指向class</p>
<p>1.2    let<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;<span class="number">5</span>;i++)&#123;</div><div class="line"> setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(i);</div><div class="line"> &#125;,i*<span class="number">1000</span>);</div><div class="line">&#125; <span class="comment">//输出4个5</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;<span class="number">5</span>;i++)&#123;</div><div class="line"> setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(i);</div><div class="line"> &#125;,i*<span class="number">1000</span>);</div><div class="line">&#125; <span class="comment">//输出1，2，3，4</span></div></pre></td></tr></table></figure></p>
<p>1.3    class<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;<span class="comment">//定义类和构造函数</span></div><div class="line">    name: string = <span class="string">'World'</span>;</div><div class="line">    <span class="keyword">constructor</span>() &#123;</div><div class="line">        setTimeout(() =&gt; &#123;</div><div class="line">          <span class="keyword">this</span>.name = <span class="string">'NEW World'</span></div><div class="line">        &#125;, <span class="number">2000</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Constructor构造函数，初始化数据</p>
<p>参考：<br><a href="http://www.typescriptlang.org/Handbook" target="_blank" rel="external">http://www.typescriptlang.org/Handbook</a><br><a href="http://es6.ruanyifeng.com/" target="_blank" rel="external">http://es6.ruanyifeng.com/</a></p>
<p>2    import,export<br>import引入依赖的模块及自定义组件<br>例1：<code>import {ComponentMetadata as Component, ViewMetadata as View, bootstrap, CORE_DIRECTIVES } from &#39;angular2/angular2&#39;;</code><br>例2：<code>import {Zippy} from &#39;zippy&#39;;</code></p>
<p>export输出组件和函数<br>例1：<code>export class Search {}</code><br>例2：<code>export function status(response) {...}</code></p>
<p>2.1    依赖关系<br>FORM_DIRECTIVES:ng-model<br>ROUTER_DIRECTIVES:<router-outlet><br>CORE_DIRECTIVES:NgIf, NgFor, Pipe, OnInit        包含所有CORE里的指令<br>例1：<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Component, View, CORE_DIRECTIVES, NgStyle&#125; from <span class="string">'angular2/angular2'</span>;</div><div class="line"><span class="meta">@View(&#123;</span></div><div class="line">	directives: [CORE_DIRECTIVES, NgStyle]</div><div class="line">&#125;)</div></pre></td></tr></table></figure></router-outlet></p>
<p>例2：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Component, View, EventEmitter&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div><div class="line"><span class="keyword">import</span> &#123;FORM_DIRECTIVES&#125; <span class="keyword">from</span> <span class="string">'angular2/forms'</span>;</div><div class="line"><span class="keyword">import</span> &#123; RouterOutlet &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123; RouterLink &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123; ROUTER_DIRECTIVES, RouteConfig &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123; ROUTER_BINDINGS, LocationStrategy, HashLocationStrategy &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div></pre></td></tr></table></figure></p>
<p>3    @Component组件<br>3.1    selector<br>组件名称。<br>例：<code>selector: &#39;zippy&#39;,</code><br>3.2    properties<br>申明组件的外部属性,其它组件可以通过这个属性传入参数。<br>例1：<code>properties:[&#39;myTitle1&#39;,’myTitle2’]</code><br>例2：<code>&lt;zippy [my-title1]=&quot;title2&quot;&gt;&lt;/zippy&gt;</code> 绑定title2变量<br>例3：<code>&lt;zippy [my-title2] = &quot;’title2’&quot;&gt;&lt;/zippy&gt;</code> 绑定title2字符串<br>例4：<code>[&#39;tabTitle: tab-title&#39;]</code>申明变量tabTitle,将tab-title绑定到组件内的tabTitle变量上。内部绑定的优先级高于外部绑定，例如例4的绑定高于例2的绑定。<br>3.3    events<br>申明事件。<br>例：<code>events: [&#39;open&#39;, &#39;close&#39;],</code></p>
<p>3.4 host<br>内部事件。<br>例1：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">host: &#123;</div><div class="line">    <span class="string">'(mouseenter)'</span>: 'focusElement(<span class="string">"77"</span>)'</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p>例2：内部绑定和外部绑定的相互切换。一个属性同时在template和组件class中绑定，只要有其中一个值改变，属性值就会刷新。<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;View, Component, bootstrap, Directive, Host, Optional&#125; from <span class="string">'angular2/angular2'</span></div><div class="line"></div><div class="line"><span class="meta">@Component(&#123;</span></div><div class="line">  selector: <span class="meta-string">'bank-account'</span>,</div><div class="line">  properties: [<span class="meta-string">'bankName:bank-name'</span>, <span class="meta-string">'id: account-id'</span>],</div><div class="line">  host: &#123;</div><div class="line">    <span class="meta-string">'(mouseout)'</span>: <span class="meta-string">'focusElement("77")'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"><span class="meta">@View(&#123;</span></div><div class="line">  template: `</div><div class="line">    Bank Name: &#123;&#123;bankName&#125;&#125;</div><div class="line">    Account Id: &#123;&#123;id&#125;&#125;</div><div class="line">  `</div><div class="line">&#125;)</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">BankAccount</span> </span>&#123;</div><div class="line">  bankName: string;</div><div class="line">  id: string;</div><div class="line">  </div><div class="line">  <span class="keyword">constructor</span>()&#123;</div><div class="line">    <span class="keyword">this</span>.bankName = <span class="string">"222"</span>;</div><div class="line">  &#125;</div><div class="line">  focusElement(isFocus) &#123;</div><div class="line">    <span class="keyword">this</span>.bankName = isFocus;</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">// this property is not bound, and won't be automatically updated by Angular</span></div><div class="line">  normalizedBankName: string;</div><div class="line">&#125;</div><div class="line"><span class="meta">@Component(&#123;selector: <span class="meta-string">'app'</span>&#125;)</span></div><div class="line"><span class="meta">@View(&#123;</span></div><div class="line">  template: `</div><div class="line">    &lt;bank-account [bank-name]=<span class="meta-string">"RBC1"</span> account-id=<span class="meta-string">"4747"</span> (click)=<span class="string">"onclick()"</span>&gt;&lt;/bank-account&gt;</div><div class="line">  `,</div><div class="line">  directives: [BankAccount]</div><div class="line">&#125;)</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</div><div class="line">  RBC1: string;</div><div class="line">  <span class="keyword">constructor</span>()&#123;</div><div class="line">    <span class="keyword">this</span>.RBC1 = <span class="string">"2221"</span>;</div><div class="line">  &#125;</div><div class="line">  onclick()&#123;</div><div class="line">    <span class="keyword">this</span>.RBC1 = <span class="keyword">this</span>.RBC1+<span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">bootstrap(App);</div></pre></td></tr></table></figure></p>
<p>3.5 bindings<br>绑定依赖，先要import该依赖。绑定可供子模块查询。<br>例：<code>bindings: [IptvService, AuthenticateService]</code></p>
<p>3.6 viewBindings<br><code>viewBindings:[bind(VideoService).toClass(SpecificVideoService)]</code>  绑定的对象只能供本模块使用，不会影响到子模块</p>
<p>4 @View视图<br>4.1 directives<br>template中用到的angular指令和自定义指令，camel驼峰写法。<br>例：<code>directives: [EzCard],</code></p>
<p>4.2 template<br>该视图的模板，html代码。directives要用小写中划线写法。<br>例：<code>template: ‘&lt; ez-card [title1]=&quot;&#39;deeeeeeee&#39;&quot;&gt;&lt;/ ez-card &gt;’,</code></p>
<p>HTML元素属性的几种写法：<br><code>title=&quot;Details&quot;</code>：title属性为字符串Details<br><code>[title]=&quot;&#39;Details&#39;&quot;</code>： title属性为字符串Details<br><code>[title]=&quot;Details&quot;</code>： title属性为变量Details<br><code>bind-title=”’Details’”</code>： title属性为字符串Details</p>
<p> <code>&lt;input #searchvalue (keyup)=&quot;searchArtist($event, searchvalue.value)&quot;/&gt;</code> #searchvalue会双向绑定到input对象上，searchvalue.value可实时更新input输入值</p>
<p>4.3 templateUrl<br>模板地址，引入外部HTML文件。例：<code>templateUrl: &#39;zippy.html&#39;</code></p>
<p>4.4 styles<br><code>styles: [&#39;.tabs1 {background-color: green;}&#39;,&#39;{...}&#39;],</code> 声明的样式只在本组件中可用，默认，取决于encapsulation</p>
<p>4.5 styleUrls<br><code>styleUrls: [&#39;zippy.css&#39;],</code> 声明外部样式文件<br>此外还可以直接写在template中，多用于关联动态样式，如生成动态获取的背景图片</p>
<p>下面有导致hexo出错的BUG</p>
<p>4.6 encapsulation<br>封装设置。<br>ViewEncapsulation.None 无样式封装，样式位于<head>中，将全局可用。<br>ViewEncapsulation.Emulated 样式模拟，样式位于<head>中，仅当前组件可用，默认。<br>ViewEncapsulation.Native 当前组件可用，样式位于组件中，仅当前组件可用。</head></head></p>
<p>5 @Directive<br><a href="https://github.com/angular/angular/blob/master/modules/angular2/docs/core/02_directives.md" target="_blank" rel="external">https://github.com/angular/angular/blob/master/modules/angular2/docs/core/02_directives.md</a></p>
<p>6 常用指令<br>6.1 #<br>定义一个当前组件的局部变量，绑定当前位置的HTML元素，变量名只能小写<br>例1：<code>&lt;input #searchvalue (keyup)=&quot;searchArtist(searchvalue.value)&quot;/&gt;</code><br>例2：<code>&lt;input class=&quot;form-control&quot; type=&quot;text&quot; placeholder=&quot;Your new friend&quot; #friend (keyup) =&quot;update(friend.value)&quot;&gt;</code></p>
<p>6.2 \{\{\}\}</p>
<p>动态变量或表达式<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">例<span class="number">1</span>：``&#123;&#123;i<span class="meta">%6</span>&#125;&#125;``</div><div class="line">例<span class="number">2</span>：``&lt;div&gt;&#123;&#123;visible?<span class="string">'&amp;blacktriangledown;'</span>:<span class="string">'&amp;blacktriangleright;'</span>&#125;&#125;&lt;/div&gt;``</div></pre></td></tr></table></figure></p>
<p>6.3 <code>[]</code><br>[参数]用于父组件向子组件传递参数，(事件)用于子组件向父组件传递事件。<br>例：<code>&lt;todo-cmp [model]=&quot;todo&quot; (complete)=&quot;onCompletingTodo(todo)&quot;&gt;&lt;/todo-cmp&gt;</code> 其中model是子组件中定义的参数，todo是父组件中的变量，如果todo改变，model也会自动改变；complete是子组件中定义的事件，onCompletingTodo是父组件中的方法，complete事件将触发onCompletingTodo方法。</p>
<p>6.4 ng-for<br>例：<code>&lt;div *ng-for=&quot;#content of contentList; #i= index&quot;&gt;</code><br>contentList为将遍历的数组，#content为遍历数组的元素，#i为数组指针。在当前div及其子元素可用<code>{{content}}</code>和<code>{{i}}</code>进行引用<br>6.5 ng-if<br>当*ng-if之后的表达式为true，则显示该HTML元素；反之则删除。显示删除过程会触发Lifecycle<br>例：<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;<span class="keyword">btv-player-menu </span>*ng-<span class="meta">if</span>=<span class="string">"isShowBtvPlayerMenu"</span>&gt;&lt;/<span class="keyword">btv-player-menu&gt;</span></div><div class="line">  &lt;<span class="keyword">btv-player-minidetail-page </span>*ng-<span class="meta">if</span>=<span class="string">"isShowBtvPlayerMinidetailPage"</span>&gt;&lt;/<span class="keyword">btv-player-minidetail-page&gt;</span></div><div class="line">  &lt;<span class="keyword">btv-player-reminder </span>*ng-<span class="meta">if</span>=<span class="string">"isShowBtvPlayerReminder"</span>&gt;&lt;/<span class="keyword">btv-player-reminder&gt;</span></div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>6.6 ng-switch</p>
<p>6.7 ng-model</p>
<p>6.8 ng-style<br>例1：<code>&lt;div [ng-style]=&quot;{&#39;background-image&#39;:&#39;url(&#39;+picture+&#39;)&#39;}&quot;&gt;&lt;/div&gt;</code> 背景图绑定picture变量，picture为图片地址<br>例2：<code>&lt;div [ng-style]=&quot;{&#39;text-align&#39;: alignExp}&quot;&gt;&lt;/div&gt;</code><br>例3：<code>&lt;div [ng-style]=&quot;styleExp&quot;&gt;&lt;/div&gt;</code>  可以是变量</p>
<p>6.9 ng-class<br>根据表达式的结果添加或移除CSS属性<br>例：<code>&lt;div class=&quot;button&quot; [ng-class]=&quot;{active: isOn, disabled: isDisabled}&quot;&gt;</code></p>
<p>6.10  ng-content<br><code>&lt;ng-content&gt;&lt;/ng-content&gt;</code>表明其它组件或内容插入当前组件的位置。<br>例：<code>&lt;zippy&gt;&lt;p&gt;111&lt;/p&gt;&lt;/zippy&gt;</code>，其中<code>&lt;p&gt;111&lt;/p&gt;</code>将插入zippy组件的template中的ng-content位置。</p>
<p>6.11  router-outlet<br>router的输出位置。</p>
<p>6.12  router-link<br>router-link表示跳转名称为search的地址，而不是跳转到/search的url下，见@RouteConfig。<br>有三种写法：<br>例1：<code>[router-link]=&quot;[&#39;./search&#39;]&quot;</code> search位于当前组件路径下<br>例2：<code>[router-link]=&quot;[&#39;../search&#39;]&quot;</code>  search位于当前组件的父路径下<br>例3：<code>[router-link]=&quot;[&#39;/search&#39;]&quot;</code>  绝对路径，从根路径开始<br>还可以传递参数：<br>例4：<code>[router-link] =”[&#39;/team&#39;, {teamId: 1}, &#39;user&#39;, {userId: 2}]”</code></p>
<p>6.13  Pipe<br>1.import<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Pipe&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div></pre></td></tr></table></figure></p>
<p>2.根据Pipe设定变量类型<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> starttime: number = <span class="number">0</span>;</div><div class="line"><span class="keyword">public</span> endtime: number = <span class="number">0</span>;</div><div class="line"><span class="keyword">this</span>.starttime = parseInt(<span class="keyword">this</span>.playbilllist.playbilllist[<span class="number">0</span>].startTimeMilli);</div><div class="line"><span class="keyword">this</span>.endtime = parseInt(<span class="keyword">this</span>.playbilllist.playbilllist[<span class="number">0</span>].endTimeMilli);</div></pre></td></tr></table></figure></p>
<p>3.使用Pipe设定时间<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="keyword">div</span>&gt;&#123;&#123;starttime | <span class="keyword">date</span>:<span class="string">'HHmm'</span>&#125;&#125; - &#123;&#123;endtime | <span class="keyword">date</span>:<span class="string">'HHmm'</span>&#125;&#125;&lt;/<span class="keyword">div</span>&gt;</div></pre></td></tr></table></figure></p>
<p>参考：<br><a href="http://www.shmck.com/angular-2-pipes/" target="_blank" rel="external">http://www.shmck.com/angular-2-pipes/</a><br><a href="https://github.com/auth0/angular2-pipes" target="_blank" rel="external">https://github.com/auth0/angular2-pipes</a></p>
<p>7 bootstrap<br>启动Main程序，[]中的绑定将全局可用<br>例：bootstrap(App, []);<br>8 inject<br>1.template中，注入的类为父子关系<br><figure class="highlight apache"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="section">&lt;pet-list &gt;</span></div><div class="line"><span class="section">&lt;pet-input&gt;</span><span class="section">&lt;/pet-input&gt;</span></div><div class="line"><span class="section">&lt;/pet-list&gt;</span></div></pre></td></tr></table></figure></p>
<p>2.import<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;PetList&#125; <span class="keyword">from</span> <span class="string">'byinjection/PetList'</span>;</div><div class="line"><span class="keyword">import</span> &#123; <span class="keyword">Inject</span>, forwardRef&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div></pre></td></tr></table></figure></p>
<p>3.class注入，调用注入class的方法<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">export <span class="class"><span class="keyword">class</span> <span class="title">PetInput</span> </span>&#123;</div><div class="line">  petList: PetList;</div><div class="line"></div><div class="line">  <span class="keyword">constructor</span>(<span class="meta">@Inject(forwardRef(()</span>=&gt;PetList)) petList:PetList) &#123; <span class="comment">//petList为单例，指向dom树中的&lt;pet-list&gt;</span></div><div class="line">    <span class="keyword">this</span>.petList = petList;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  doSomeThing()&#123;</div><div class="line">  <span class="keyword">this</span>.petList.addItem(...); <span class="comment">//调用petList的方法，可以传参</span></div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>参考：<br><a href="https://github.com/SekibOmazic/angular2-playground" target="_blank" rel="external">https://github.com/SekibOmazic/angular2-playground</a><br><a href="http://blog.thoughtram.io/angular/2015/09/03/forward-references-in-angular-2.html" target="_blank" rel="external">http://blog.thoughtram.io/angular/2015/09/03/forward-references-in-angular-2.html</a></p>
<p>9 事件<br>9.1 系统事件<br>click事件<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div (<span class="name">click</span>)=<span class="string">"toggle()"</span>&gt;</div></pre></td></tr></table></figure></p>
<p>(click)监听click事件<br>toggle()事件触发函数<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="selector-tag">div</span> [hidden]=<span class="string">"!visible"</span>&gt;</div></pre></td></tr></table></figure></p>
<p>[hidden] 中括号将HTML元素或组件的属性绑定到组件模型的某个表达式，当表达式的值变化时，对应的DOM对象将自动得到更新。<br>visible为对应class中定义的变量<br>keyup事件<br>例：<code>&lt;input class=&quot;form-control&quot; type=&quot;text&quot; placeholder=&quot;Your new friend&quot; #friend (keyup) =&quot;update(friend.value)&quot;&gt;</code><br>键盘事件<br>1.document方法：<br>将下面代码加入class的constructor中<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">  <span class="keyword">switch</span> (event.keyCode) &#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">38</span>:</div><div class="line">      alert(<span class="string">'clear'</span>);</div><div class="line">      <span class="keyword">break</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>2.window方法：<br>将下面代码加入class的constructor中</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"keydown"</span>,<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line"><span class="regexp">//</span><span class="number">1</span>、显示miniepg</div><div class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.event &amp;&amp; <span class="built_in">window</span>.event.which === <span class="number">73</span>) &#123;</div><div class="line"><span class="keyword">this</span>.showFlag = <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line">&#125;, <span class="literal">true</span>);</div></pre></td></tr></table></figure>
<p>3.Angular2方法：<br>1.import<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;KeyEventsPlugin&#125; <span class="keyword">from</span> <span class="string">'angular2/src/core/render/dom/events/key_events'</span>;</div></pre></td></tr></table></figure></p>
<p>2.template中修改需要加入键盘事件的HTML元素，使用时该元素要先获得焦点<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div (<span class="name">keyup</span>) =<span class="string">"onKeyDown($event)"</span> tabindex=<span class="string">"0"</span>&gt;</div></pre></td></tr></table></figure></p>
<p>3.class中加入以下方法，取得的lastKey为字符串<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">onKeyDown(<span class="keyword">event</span>): <span class="keyword">void</span> &#123;</div><div class="line">  <span class="keyword">this</span>.lastKey = KeyEventsPlugin.getEventFullKey(<span class="keyword">event</span>);</div><div class="line">  <span class="keyword">event</span>.preventDefault();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>9.2 自定义事件<br>1.引入依赖<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Component, View, EventEmitter&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div></pre></td></tr></table></figure></p>
<p>2.@Component声明<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@Component</span>(&#123;</div><div class="line">    <span class="attribute">selector</span>: <span class="string">'zippy'</span>,</div><div class="line">    <span class="attribute">events</span>: [<span class="string">'open'</span>, <span class="string">'close'</span>]</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>3.class类里定义事件变量<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Zippy</span> </span>&#123;</div><div class="line"><span class="keyword">constructor</span>() &#123;</div><div class="line">  <span class="keyword">this</span>.open = <span class="keyword">new</span> EventEmitter();</div><div class="line">  <span class="keyword">this</span>.close = <span class="keyword">new</span> EventEmitter();&#125;&#125;</div></pre></td></tr></table></figure></p>
<p>4.触发方法<br>toggle()方法执行，将触发事件：<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">toggle() &#123;</div><div class="line">      (<span class="keyword">this</span>.visible)?<span class="keyword">this</span>.<span class="keyword">open</span>.next(&#123;src:’<span class="number">111</span>’&#125;):<span class="keyword">this</span>.close.next();</div><div class="line">    &#125;</div><div class="line">&#123;src:’<span class="number">111</span>’&#125;为事件传参，在下面的$event会收到这个参数</div></pre></td></tr></table></figure></p>
<p>5.使用该组件事件<br><figure class="highlight cos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;zippy (<span class="keyword">open</span>)=<span class="string">"sayOpen($event)"</span> (<span class="keyword">close</span>)=<span class="string">"sayClose()"</span>&gt;&lt;/zippy&gt;</div><div class="line"><span class="built_in">$event</span>为事件传入参数</div></pre></td></tr></table></figure></p>
<p>(open)可写为on-open，(close)可写为on-close</p>
<p>事件从组件内部发送到组件上，从而可以调用其它组件的方法：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">gadget-input</span> (<span class="attr">store</span>)=<span class="string">"gadget.onAddItem($event)"</span>&gt;</span><span class="tag">&lt;/<span class="name">gadget-input</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">gadget-list</span> #<span class="attr">gadget</span>&gt;</span><span class="tag">&lt;/<span class="name">gadget-list</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>9.3 Observer事件<br>1.引用依赖<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;ObservableComponent&#125; <span class="keyword">from</span> <span class="string">'base/core/ObservableComponent'</span>;</div><div class="line"><span class="keyword">import</span> &#123;Event&#125; <span class="keyword">from</span> <span class="string">'base/core/Event'</span>;</div></pre></td></tr></table></figure></p>
<p>2.定义一个类<br>重写listNotificationInterests，返回一个数组包括所有事件名<br>用Event.getInstance().on方法设置所有事件的回调函数<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyEvent</span> <span class="keyword">extends</span> <span class="title">ObservableComponent</span>&#123;</span></div><div class="line">  constructor()&#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">    <span class="keyword">super</span>.onInit();</div><div class="line">    Event.getInstance().<span class="literal">on</span>(<span class="string">"aaa"</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">"I'm aaa"</span>) &#125;);</div><div class="line">    Event.getInstance().<span class="literal">on</span>(<span class="string">"bbb"</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">"I'm bbb"</span>) &#125;);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  listNotificationInterests() &#123;</div><div class="line">    <span class="keyword">return</span> [<span class="string">"aaa"</span>, <span class="string">"bbb"</span>];</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>3.生成一个实例<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">constructor</span><span class="params">(iptvService: IptvService)</span> <span class="comment">&#123;</span></span></div><div class="line">    this.MyEvent = new MyEvent();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>4.调用函数发事件<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">emitTest</span>()&#123;</div><div class="line">    Event<span class="selector-class">.getInstance</span>()<span class="selector-class">.emit</span>(<span class="string">"bbb"</span>);</div><div class="line">    Event<span class="selector-class">.getInstance</span>()<span class="selector-class">.emit</span>(<span class="string">"aaa"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>9.4 Lifecycle<br>Lifecycle可以看作是组件自带的系统事件，在组件运行的关键时间点可添加处理函数，alpha.37改为如下写法请注意。<br>例：<br>1.import<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;OnInit, OnDestroy&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div></pre></td></tr></table></figure></p>
<p>2.重写相关Lifecycle方法<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">export</span> <span class="selector-tag">class</span> <span class="selector-tag">About</span> <span class="selector-tag">implements</span> <span class="selector-tag">OnInit</span>, <span class="selector-tag">OnDestroy</span> &#123;</div><div class="line">  <span class="selector-tag">onInit</span>()&#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="selector-tag">onDestroy</span>()&#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>10  Router<br>10.1  router策略<br><code>bind(LocationStrategy).toClass(HashLocationStrategy)</code> 使用hash url定位策略<br><code>bind(LocationStrategy).toClass(PathLocationStrategy)</code> 需在index.html的<head>中加入<base href="/"></head></p>
<p>10.2  @RouteConfig<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RouteConfig</span>([</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/'</span>, <span class="string">redirectTo:</span> <span class="string">'/search'</span> &#125;,</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/search'</span>, <span class="string">as:</span> <span class="string">'search'</span>, <span class="string">component:</span> Search &#125;,</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/artist/:id'</span>, <span class="string">as:</span> <span class="string">'artist'</span>, <span class="string">component:</span> Artist &#125;</div><div class="line">])</div></pre></td></tr></table></figure></p>
<p>path: ‘/‘为默认路径。<br>redirectTo：跳转到其它路径<br>as：路径的别名，用于[router-link]中引用<br>component：引用的组件类名</p>
<p>10.3  router设置<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span><span class="keyword">import</span> &#123; ROUTER_BINDINGS, LocationStrategy, HashLocationStrategy, PathLocationStrategy &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123;bind&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div><div class="line"><span class="keyword">import</span> &#123; ROUTER_DIRECTIVES, RouteConfig, RouterLink &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div><div class="line">bootstrap(App, [ROUTER-BINDINGS, bind(LocationStrategy).toClass(HashLocationStrategy)]);</div><div class="line"></div><div class="line"><span class="number">2.</span>@RouteConfig([</div><div class="line">    &#123;path:<span class="string">'/'</span>, component:Start, <span class="keyword">as</span>: <span class="string">'start'</span>&#125;</div><div class="line">])</div><div class="line"><span class="number">3.</span>&lt;router-outlet&gt;<span class="xml"><span class="tag">&lt;/<span class="name">router-outlet</span>&gt;</span></span></div><div class="line">directives: [ROUTER_DIRECTIVES, RouterLink]</div><div class="line"></div><div class="line">4.<span class="tag">&lt;<span class="name">a</span> [<span class="attr">router-link</span>]=<span class="string">"['./user']"</span>&gt;</span>link to user component<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>10.4  router跳转<br>1.import<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Router&#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div></pre></td></tr></table></figure></p>
<p>2.constructor注入<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">constructor</span><span class="params">(..., <span class="keyword">public</span> router: Router)</span> <span class="comment">&#123;</span></span></div><div class="line">    ...</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<ol>
<li>url跳转方法<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.router.navigateByUrl(<span class="string">'/home/livetv'</span>);</div></pre></td></tr></table></figure>
</li>
</ol>
<p>10.5  父子路由<br>1、  针对父—子路由：<br>父路由配置（在父ts文件下）：<br>  （1）、导入路由所需组件：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Router, RouteConfig, ROUTER_DIRECTIVES, ROUTER_BINDINGS &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div></pre></td></tr></table></figure></p>
<p>  （2）、配置路由：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RouteConfig</span>([</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/'</span>, <span class="string">redirectTo:</span> <span class="string">'/login/userlogin'</span> &#125;,   <span class="comment">// redirectTo默认页面</span></div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/login/...'</span>, <span class="string">component:</span> Login, <span class="string">as:</span> <span class="string">'login'</span> &#125;,  <span class="comment">// component为导入的组件</span></div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/mytvNavigation/...'</span>, <span class="string">component:</span> MyTVNavigation, <span class="string">as:</span> <span class="string">'mytvNavigation'</span> &#125;</div><div class="line">])</div></pre></td></tr></table></figure></p>
<p>子路由配置（子ts文件中）：<br>  （1）、同上；<br>  （2）、配置路由：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RouteConfig</span>([</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/mytvNavigation'</span>, <span class="string">redirectTo:</span> <span class="string">'/history'</span>&#125;,</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/history'</span>, <span class="string">component:</span> History, <span class="string">as:</span> <span class="string">'history'</span>&#125;,</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/favorite'</span>, <span class="string">component:</span> Favorite, <span class="string">as:</span> <span class="string">'favorite'</span> &#125;,</div><div class="line">&#123; <span class="string">path:</span> <span class="string">'/profile/...'</span>, <span class="string">component:</span> Profile, <span class="string">as:</span> <span class="string">'profile'</span>&#125;</div><div class="line">])</div></pre></td></tr></table></figure></p>
<p>其中path最好写上父路由路径，如果不写，在页面跳转时要加上父路径的path。<br>如果子路由下还存在子路由（如profile），以此类推……<br>注：凡是配置路由的ts文件，其<code>@View{}</code>中必须配置路由出口<code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>，否则即使url地址变化，页面内容还是显示不出或者跳转不了！！！！<br>路由出口需要的组件：ROUTER_DIRECTIVES / RouterOutlet</p>
<p>11  Service服务<br>service是单例，数据共享给所有使用者<br>11.1  自定义Service<br>使用服务的4步，包括定义、引入、绑定、使用<br>1.定义Service<br>在angular2中，服务就是一个类。例：自定义一个简单的服务：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">DataService</span> </span>&#123;</div><div class="line">  items:<span class="built_in">Array</span>&lt;any&gt;;</div><div class="line"></div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">this</span>.items = [</div><div class="line">      &#123; name: <span class="string">'Christoph Burgdorf'</span> &#125;,</div><div class="line">      &#123; name: <span class="string">'Pascal Precht'</span> &#125;,</div><div class="line">      &#123; name: <span class="string">'thoughtram'</span> &#125;</div><div class="line">    ];</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  getItems() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.items;</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>2.引入Service<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;DataService&#125; <span class="keyword">from</span> <span class="string">'dataService'</span>;</div></pre></td></tr></table></figure></p>
<p>3.绑定Service<br>有两种方法：<br>1.bootstrap绑定:<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bootstrap(<span class="name">Hello</span>, [DataService])<span class="comment">;</span></div></pre></td></tr></table></figure></p>
<p>2.Component中使用bindings，见@Component</p>
<p>4.使用Service<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">constructor</span><span class="params">(dataService : DataService)</span> <span class="comment">&#123;</span></span></div><div class="line">  this.title = dataService.items[0].name;</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p>11.2  Service依赖<br>服务中需要引入依赖，以HTTP为例：<br>1.bootstrap文件<br>import {HTTP_BINDINGS} from ‘angular2/http’;<br>…<br>bootstrap(Hello , [HTTP_BINDINGS] );<br>2.服务文件<br>import {Injectable} from ‘angular2/core’;<br>import {Http} from ‘angular2/http’;<br>@Injectable()<br>export class DataService {<br>  constructor(http:Http) {…}<br>};<br>本文件另一种写法：<br>import {Http} from ‘angular2/http’;<br>import {Inject} from ‘angular2/angular2’;<br>export class DataService {<br>  constructor(@Inject(Http)  http:Http ) {…}<br>};<br>原文：<a href="http://blog.thoughtram.io/angular/2015/09/17/resolve-service-dependencies-in-angular-2.html" target="_blank" rel="external">http://blog.thoughtram.io/angular/2015/09/17/resolve-service-dependencies-in-angular-2.html</a></p>
<p>12  node_modules<br>systemjs - 通用模块加载器，支持AMD、CommonJS、ES6等各种格式的JS模块加载<br>es6-module-loader - ES6模块加载器，systemjs会自动加载这个模块<br>traceur - ES6转码器，将ES6代码转换为当前浏览器支持的ES5代码。systemjs会自动加载 这个模块。<br>13  实例<br>13.1  三种通信实例<br>本实例演示组件通信的三种方法：事件、服务、注入。提供源码。<br>三种方法的理解：事件<br>地址：<a href="https://github.com/SekibOmazic/angular2-playground" target="_blank" rel="external">https://github.com/SekibOmazic/angular2-playground</a><br>演示方法：<br>1下载源代码，点击Download Zip下载</p>
<p>2解压下载的ZIP文件<br>3命令行进入解压好的目录，npm i回车</p>
<p>4gulp play</p>
<p>5实际显示页面，三种通信方法</p>
<p>14  报错<br>Uncaught SyntaxError: Unexpected token &lt;<br>可能原因：ts文件未能成功编译成js文件，实际的错误提示是找不到js文件。<br>解决：templateUrl路径不对，或是错误使用``引号，应使用’’引号</p>
<p>EXCEPTION: Invalid argument XXXX for XXX ‘function () {}’ in [null]<br>可能原因：参数类型不符。<br>解决：重点检查传入参数的类型。</p>
<p>EXCEPTION: Cannot resolve all parameters for ClassName (Router, ?). Make sure they all have valid type or annotations. in [null]<br>可能原因：找不到class<br>解决：@Inject(forwardRef(()=&gt;ClassName)) classname: ClassName<br>参考：<a href="http://blog.thoughtram.io/angular/2015/09/03/forward-references-in-angular-2.html" target="_blank" rel="external">http://blog.thoughtram.io/angular/2015/09/03/forward-references-in-angular-2.html</a></p>
<p>EXCEPTION: LifeCycle.tick is called recursively<br>可能原因：页面删除时focus状态未清除<br>解决：将focus设置到非动态focus的元素上</p>
<p>15  版本改变<br><a href="https://github.com/angular/angular/blob/master/CHANGELOG.md" target="_blank" rel="external">https://github.com/angular/angular/blob/master/CHANGELOG.md</a><br>16  参考资料<br>官方文档：<br><a href="https://angular.io/docs/js/latest/" target="_blank" rel="external">https://angular.io/docs/js/latest/</a><br><a href="https://github.com/angular/angular" target="_blank" rel="external">https://github.com/angular/angular</a><br><a href="https://github.com/timjacobi/angular2-education" target="_blank" rel="external">https://github.com/timjacobi/angular2-education</a></p>
</code>和<code></code>进行引用<br>6.5 ng-if<br>当*ng-if之后的表达式为true，则显示该HTML元素；反之则删除。显示删除过程会触发Lifecycle<br>例：<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;<span class="keyword">btv-player-menu </span>*ng-<span class="meta">if</span>=<span class="string">"isShowBtvPlayerMenu"</span>&gt;&lt;/<span class="keyword">btv-player-menu&gt;</span></div><div class="line">  &lt;<span class="keyword">btv-player-minidetail-page </span>*ng-<span class="meta">if</span>=<span class="string">"isShowBtvPlayerMinidetailPage"</span>&gt;&lt;/<span class="keyword">btv-player-minidetail-page&gt;</span></div><div class="line">  &lt;<span class="keyword">btv-player-reminder </span>*ng-<span class="meta">if</span>=<span class="string">"isShowBtvPlayerReminder"</span>&gt;&lt;/<span class="keyword">btv-player-reminder&gt;</span></div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>6.6 ng-switch</p>
<p>6.7 ng-model</p>
<p>6.8 ng-style<br>例1：<code>&lt;div [ng-style]=&quot;{&#39;background-image&#39;:&#39;url(&#39;+picture+&#39;)&#39;}&quot;&gt;&lt;/div&gt;</code> 背景图绑定picture变量，picture为图片地址<br>例2：<code>&lt;div [ng-style]=&quot;{&#39;text-align&#39;: alignExp}&quot;&gt;&lt;/div&gt;</code><br>例3：<code>&lt;div [ng-style]=&quot;styleExp&quot;&gt;&lt;/div&gt;</code>  可以是变量</p>
<p>6.9 ng-class<br>根据表达式的结果添加或移除CSS属性<br>例：<code>&lt;div class=&quot;button&quot; [ng-class]=&quot;{active: isOn, disabled: isDisabled}&quot;&gt;</code></p>
<p>6.10  ng-content<br><code>&lt;ng-content&gt;&lt;/ng-content&gt;</code>表明其它组件或内容插入当前组件的位置。<br>例：<code>&lt;zippy&gt;&lt;p&gt;111&lt;/p&gt;&lt;/zippy&gt;</code>，其中<code>&lt;p&gt;111&lt;/p&gt;</code>将插入zippy组件的template中的ng-content位置。</p>
<p>6.11  router-outlet<br>router的输出位置。</p>
<p>6.12  router-link<br>router-link表示跳转名称为search的地址，而不是跳转到/search的url下，见@RouteConfig。<br>有三种写法：<br>例1：<code>[router-link]=&quot;[&#39;./search&#39;]&quot;</code> search位于当前组件路径下<br>例2：<code>[router-link]=&quot;[&#39;../search&#39;]&quot;</code>  search位于当前组件的父路径下<br>例3：<code>[router-link]=&quot;[&#39;/search&#39;]&quot;</code>  绝对路径，从根路径开始<br>还可以传递参数：<br>例4：<code>[router-link] =”[&#39;/team&#39;, {teamId: 1}, &#39;user&#39;, {userId: 2}]”</code></p>
<p>6.13  Pipe<br>1.import<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Pipe&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div></pre></td></tr></table></figure></p>
<p>2.根据Pipe设定变量类型<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> starttime: number = <span class="number">0</span>;</div><div class="line"><span class="keyword">public</span> endtime: number = <span class="number">0</span>;</div><div class="line"><span class="keyword">this</span>.starttime = parseInt(<span class="keyword">this</span>.playbilllist.playbilllist[<span class="number">0</span>].startTimeMilli);</div><div class="line"><span class="keyword">this</span>.endtime = parseInt(<span class="keyword">this</span>.playbilllist.playbilllist[<span class="number">0</span>].endTimeMilli);</div></pre></td></tr></table></figure></p>
<p>3.使用Pipe设定时间<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="keyword">div</span>&gt;&#123;&#123;starttime | <span class="keyword">date</span>:<span class="string">'HHmm'</span>&#125;&#125; - &#123;&#123;endtime | <span class="keyword">date</span>:<span class="string">'HHmm'</span>&#125;&#125;&lt;/<span class="keyword">div</span>&gt;</div></pre></td></tr></table></figure></p>
<p>参考：<br><a href="http://www.shmck.com/angular-2-pipes/" target="_blank" rel="external">http://www.shmck.com/angular-2-pipes/</a><br><a href="https://github.com/auth0/angular2-pipes" target="_blank" rel="external">https://github.com/auth0/angular2-pipes</a></p>
<p>7 bootstrap<br>启动Main程序，[]中的绑定将全局可用<br>例：bootstrap(App, []);<br>8 inject<br>1.template中，注入的类为父子关系<br><figure class="highlight apache"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="section">&lt;pet-list &gt;</span></div><div class="line"><span class="section">&lt;pet-input&gt;</span><span class="section">&lt;/pet-input&gt;</span></div><div class="line"><span class="section">&lt;/pet-list&gt;</span></div></pre></td></tr></table></figure></p>
<p>2.import<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;PetList&#125; <span class="keyword">from</span> <span class="string">'byinjection/PetList'</span>;</div><div class="line"><span class="keyword">import</span> &#123; <span class="keyword">Inject</span>, forwardRef&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div></pre></td></tr></table></figure></p>
<p>3.class注入，调用注入class的方法<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">export <span class="class"><span class="keyword">class</span> <span class="title">PetInput</span> </span>&#123;</div><div class="line">  petList: PetList;</div><div class="line"></div><div class="line">  <span class="keyword">constructor</span>(<span class="meta">@Inject(forwardRef(()</span>=&gt;PetList)) petList:PetList) &#123; <span class="comment">//petList为单例，指向dom树中的&lt;pet-list&gt;</span></div><div class="line">    <span class="keyword">this</span>.petList = petList;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  doSomeThing()&#123;</div><div class="line">  <span class="keyword">this</span>.petList.addItem(...); <span class="comment">//调用petList的方法，可以传参</span></div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>参考：<br><a href="https://github.com/SekibOmazic/angular2-playground" target="_blank" rel="external">https://github.com/SekibOmazic/angular2-playground</a><br><a href="http://blog.thoughtram.io/angular/2015/09/03/forward-references-in-angular-2.html" target="_blank" rel="external">http://blog.thoughtram.io/angular/2015/09/03/forward-references-in-angular-2.html</a></p>
<p>9 事件<br>9.1 系统事件<br>click事件<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div (<span class="name">click</span>)=<span class="string">"toggle()"</span>&gt;</div></pre></td></tr></table></figure></p>
<p>(click)监听click事件<br>toggle()事件触发函数<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="selector-tag">div</span> [hidden]=<span class="string">"!visible"</span>&gt;</div></pre></td></tr></table></figure></p>
<p>[hidden] 中括号将HTML元素或组件的属性绑定到组件模型的某个表达式，当表达式的值变化时，对应的DOM对象将自动得到更新。<br>visible为对应class中定义的变量<br>keyup事件<br>例：<code>&lt;input class=&quot;form-control&quot; type=&quot;text&quot; placeholder=&quot;Your new friend&quot; #friend (keyup) =&quot;update(friend.value)&quot;&gt;</code><br>键盘事件<br>1.document方法：<br>将下面代码加入class的constructor中<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">  <span class="keyword">switch</span> (event.keyCode) &#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">38</span>:</div><div class="line">      alert(<span class="string">'clear'</span>);</div><div class="line">      <span class="keyword">break</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>2.window方法：<br>将下面代码加入class的constructor中</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"keydown"</span>,<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line"><span class="regexp">//</span><span class="number">1</span>、显示miniepg</div><div class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.event &amp;&amp; <span class="built_in">window</span>.event.which === <span class="number">73</span>) &#123;</div><div class="line"><span class="keyword">this</span>.showFlag = <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line">&#125;, <span class="literal">true</span>);</div></pre></td></tr></table></figure>
<p>3.Angular2方法：<br>1.import<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;KeyEventsPlugin&#125; <span class="keyword">from</span> <span class="string">'angular2/src/core/render/dom/events/key_events'</span>;</div></pre></td></tr></table></figure></p>
<p>2.template中修改需要加入键盘事件的HTML元素，使用时该元素要先获得焦点<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div (<span class="name">keyup</span>) =<span class="string">"onKeyDown($event)"</span> tabindex=<span class="string">"0"</span>&gt;</div></pre></td></tr></table></figure></p>
<p>3.class中加入以下方法，取得的lastKey为字符串<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">onKeyDown(<span class="keyword">event</span>): <span class="keyword">void</span> &#123;</div><div class="line">  <span class="keyword">this</span>.lastKey = KeyEventsPlugin.getEventFullKey(<span class="keyword">event</span>);</div><div class="line">  <span class="keyword">event</span>.preventDefault();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>9.2 自定义事件<br>1.引入依赖<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Component, View, EventEmitter&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div></pre></td></tr></table></figure></p>
<p>2.@Component声明<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@Component</span>(&#123;</div><div class="line">    <span class="attribute">selector</span>: <span class="string">'zippy'</span>,</div><div class="line">    <span class="attribute">events</span>: [<span class="string">'open'</span>, <span class="string">'close'</span>]</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>3.class类里定义事件变量<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Zippy</span> </span>&#123;</div><div class="line"><span class="keyword">constructor</span>() &#123;</div><div class="line">  <span class="keyword">this</span>.open = <span class="keyword">new</span> EventEmitter();</div><div class="line">  <span class="keyword">this</span>.close = <span class="keyword">new</span> EventEmitter();&#125;&#125;</div></pre></td></tr></table></figure></p>
<p>4.触发方法<br>toggle()方法执行，将触发事件：<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">toggle() &#123;</div><div class="line">      (<span class="keyword">this</span>.visible)?<span class="keyword">this</span>.<span class="keyword">open</span>.next(&#123;src:’<span class="number">111</span>’&#125;):<span class="keyword">this</span>.close.next();</div><div class="line">    &#125;</div><div class="line">&#123;src:’<span class="number">111</span>’&#125;为事件传参，在下面的$event会收到这个参数</div></pre></td></tr></table></figure></p>
<p>5.使用该组件事件<br><figure class="highlight cos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;zippy (<span class="keyword">open</span>)=<span class="string">"sayOpen($event)"</span> (<span class="keyword">close</span>)=<span class="string">"sayClose()"</span>&gt;&lt;/zippy&gt;</div><div class="line"><span class="built_in">$event</span>为事件传入参数</div></pre></td></tr></table></figure></p>
<p>(open)可写为on-open，(close)可写为on-close</p>
<p>事件从组件内部发送到组件上，从而可以调用其它组件的方法：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">gadget-input</span> (<span class="attr">store</span>)=<span class="string">"gadget.onAddItem($event)"</span>&gt;</span><span class="tag">&lt;/<span class="name">gadget-input</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">gadget-list</span> #<span class="attr">gadget</span>&gt;</span><span class="tag">&lt;/<span class="name">gadget-list</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>9.3 Observer事件<br>1.引用依赖<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;ObservableComponent&#125; <span class="keyword">from</span> <span class="string">'base/core/ObservableComponent'</span>;</div><div class="line"><span class="keyword">import</span> &#123;Event&#125; <span class="keyword">from</span> <span class="string">'base/core/Event'</span>;</div></pre></td></tr></table></figure></p>
<p>2.定义一个类<br>重写listNotificationInterests，返回一个数组包括所有事件名<br>用Event.getInstance().on方法设置所有事件的回调函数<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyEvent</span> <span class="keyword">extends</span> <span class="title">ObservableComponent</span>&#123;</span></div><div class="line">  constructor()&#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">    <span class="keyword">super</span>.onInit();</div><div class="line">    Event.getInstance().<span class="literal">on</span>(<span class="string">"aaa"</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">"I'm aaa"</span>) &#125;);</div><div class="line">    Event.getInstance().<span class="literal">on</span>(<span class="string">"bbb"</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">"I'm bbb"</span>) &#125;);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  listNotificationInterests() &#123;</div><div class="line">    <span class="keyword">return</span> [<span class="string">"aaa"</span>, <span class="string">"bbb"</span>];</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>3.生成一个实例<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">constructor</span><span class="params">(iptvService: IptvService)</span> <span class="comment">&#123;</span></span></div><div class="line">    this.MyEvent = new MyEvent();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>4.调用函数发事件<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">emitTest</span>()&#123;</div><div class="line">    Event<span class="selector-class">.getInstance</span>()<span class="selector-class">.emit</span>(<span class="string">"bbb"</span>);</div><div class="line">    Event<span class="selector-class">.getInstance</span>()<span class="selector-class">.emit</span>(<span class="string">"aaa"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>9.4 Lifecycle<br>Lifecycle可以看作是组件自带的系统事件，在组件运行的关键时间点可添加处理函数，alpha.37改为如下写法请注意。<br>例：<br>1.import<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;OnInit, OnDestroy&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div></pre></td></tr></table></figure></p>
<p>2.重写相关Lifecycle方法<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">export</span> <span class="selector-tag">class</span> <span class="selector-tag">About</span> <span class="selector-tag">implements</span> <span class="selector-tag">OnInit</span>, <span class="selector-tag">OnDestroy</span> &#123;</div><div class="line">  <span class="selector-tag">onInit</span>()&#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="selector-tag">onDestroy</span>()&#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>10  Router<br>10.1  router策略<br><code>bind(LocationStrategy).toClass(HashLocationStrategy)</code> 使用hash url定位策略<br><code>bind(LocationStrategy).toClass(PathLocationStrategy)</code> 需在index.html的<head>中加入<base href="/"></head></p>
<p>10.2  @RouteConfig<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RouteConfig</span>([</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/'</span>, <span class="string">redirectTo:</span> <span class="string">'/search'</span> &#125;,</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/search'</span>, <span class="string">as:</span> <span class="string">'search'</span>, <span class="string">component:</span> Search &#125;,</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/artist/:id'</span>, <span class="string">as:</span> <span class="string">'artist'</span>, <span class="string">component:</span> Artist &#125;</div><div class="line">])</div></pre></td></tr></table></figure></p>
<p>path: ‘/‘为默认路径。<br>redirectTo：跳转到其它路径<br>as：路径的别名，用于[router-link]中引用<br>component：引用的组件类名</p>
<p>10.3  router设置<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span><span class="keyword">import</span> &#123; ROUTER_BINDINGS, LocationStrategy, HashLocationStrategy, PathLocationStrategy &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div><div class="line"><span class="keyword">import</span> &#123;bind&#125; <span class="keyword">from</span> <span class="string">'angular2/angular2'</span>;</div><div class="line"><span class="keyword">import</span> &#123; ROUTER_DIRECTIVES, RouteConfig, RouterLink &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div><div class="line">bootstrap(App, [ROUTER-BINDINGS, bind(LocationStrategy).toClass(HashLocationStrategy)]);</div><div class="line"></div><div class="line"><span class="number">2.</span>@RouteConfig([</div><div class="line">    &#123;path:<span class="string">'/'</span>, component:Start, <span class="keyword">as</span>: <span class="string">'start'</span>&#125;</div><div class="line">])</div><div class="line"><span class="number">3.</span>&lt;router-outlet&gt;<span class="xml"><span class="tag">&lt;/<span class="name">router-outlet</span>&gt;</span></span></div><div class="line">directives: [ROUTER_DIRECTIVES, RouterLink]</div><div class="line"></div><div class="line">4.<span class="tag">&lt;<span class="name">a</span> [<span class="attr">router-link</span>]=<span class="string">"['./user']"</span>&gt;</span>link to user component<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>10.4  router跳转<br>1.import<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Router&#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div></pre></td></tr></table></figure></p>
<p>2.constructor注入<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">constructor</span><span class="params">(..., <span class="keyword">public</span> router: Router)</span> <span class="comment">&#123;</span></span></div><div class="line">    ...</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<ol>
<li>url跳转方法<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.router.navigateByUrl(<span class="string">'/home/livetv'</span>);</div></pre></td></tr></table></figure>
</li>
</ol>
<p>10.5  父子路由<br>1、  针对父—子路由：<br>父路由配置（在父ts文件下）：<br>  （1）、导入路由所需组件：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Router, RouteConfig, ROUTER_DIRECTIVES, ROUTER_BINDINGS &#125; <span class="keyword">from</span> <span class="string">'angular2/router'</span>;</div></pre></td></tr></table></figure></p>
<p>  （2）、配置路由：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RouteConfig</span>([</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/'</span>, <span class="string">redirectTo:</span> <span class="string">'/login/userlogin'</span> &#125;,   <span class="comment">// redirectTo默认页面</span></div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/login/...'</span>, <span class="string">component:</span> Login, <span class="string">as:</span> <span class="string">'login'</span> &#125;,  <span class="comment">// component为导入的组件</span></div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/mytvNavigation/...'</span>, <span class="string">component:</span> MyTVNavigation, <span class="string">as:</span> <span class="string">'mytvNavigation'</span> &#125;</div><div class="line">])</div></pre></td></tr></table></figure></p>
<p>子路由配置（子ts文件中）：<br>  （1）、同上；<br>  （2）、配置路由：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RouteConfig</span>([</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/mytvNavigation'</span>, <span class="string">redirectTo:</span> <span class="string">'/history'</span>&#125;,</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/history'</span>, <span class="string">component:</span> History, <span class="string">as:</span> <span class="string">'history'</span>&#125;,</div><div class="line">  &#123; <span class="string">path:</span> <span class="string">'/favorite'</span>, <span class="string">component:</span> Favorite, <span class="string">as:</span> <span class="string">'favorite'</span> &#125;,</div><div class="line">&#123; <span class="string">path:</span> <span class="string">'/profile/...'</span>, <span class="string">component:</span> Profile, <span class="string">as:</span> <span class="string">'profile'</span>&#125;</div><div class="line">])</div></pre></td></tr></table></figure></p>
<p>其中path最好写上父路由路径，如果不写，在页面跳转时要加上父路径的path。<br>如果子路由下还存在子路由（如profile），以此类推……<br>注：凡是配置路由的ts文件，其<code>@View{}</code>中必须配置路由出口<code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>，否则即使url地址变化，页面内容还是显示不出或者跳转不了！！！！<br>路由出口需要的组件：ROUTER_DIRECTIVES / RouterOutlet</p>
<p>11  Service服务<br>service是单例，数据共享给所有使用者<br>11.1  自定义Service<br>使用服务的4步，包括定义、引入、绑定、使用<br>1.定义Service<br>在angular2中，服务就是一个类。例：自定义一个简单的服务：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">DataService</span> </span>&#123;</div><div class="line">  items:<span class="built_in">Array</span>&lt;any&gt;;</div><div class="line"></div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">this</span>.items = [</div><div class="line">      &#123; name: <span class="string">'Christoph Burgdorf'</span> &#125;,</div><div class="line">      &#123; name: <span class="string">'Pascal Precht'</span> &#125;,</div><div class="line">      &#123; name: <span class="string">'thoughtram'</span> &#125;</div><div class="line">    ];</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  getItems() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.items;</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>2.引入Service<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;DataService&#125; <span class="keyword">from</span> <span class="string">'dataService'</span>;</div></pre></td></tr></table></figure></p>
<p>3.绑定Service<br>有两种方法：<br>1.bootstrap绑定:<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bootstrap(<span class="name">Hello</span>, [DataService])<span class="comment">;</span></div></pre></td></tr></table></figure></p>
<p>2.Component中使用bindings，见@Component</p>
<p>4.使用Service<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">constructor</span><span class="params">(dataService : DataService)</span> <span class="comment">&#123;</span></span></div><div class="line">  this.title = dataService.items[0].name;</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p>11.2  Service依赖<br>服务中需要引入依赖，以HTTP为例：<br>1.bootstrap文件<br>import {HTTP_BINDINGS} from ‘angular2/http’;<br>…<br>bootstrap(Hello , [HTTP_BINDINGS] );<br>2.服务文件<br>import {Injectable} from ‘angular2/core’;<br>import {Http} from ‘angular2/http’;<br>@Injectable()<br>export class DataService {<br>  constructor(http:Http) {…}<br>};<br>本文件另一种写法：<br>import {Http} from ‘angular2/http’;<br>import {Inject} from ‘angular2/angular2’;<br>export class DataService {<br>  constructor(@Inject(Http)  http:Http ) {…}<br>};<br>原文：<a href="http://blog.thoughtram.io/angular/2015/09/17/resolve-service-dependencies-in-angular-2.html" target="_blank" rel="external">http://blog.thoughtram.io/angular/2015/09/17/resolve-service-dependencies-in-angular-2.html</a></p>
<p>12  node_modules<br>systemjs - 通用模块加载器，支持AMD、CommonJS、ES6等各种格式的JS模块加载<br>es6-module-loader - ES6模块加载器，systemjs会自动加载这个模块<br>traceur - ES6转码器，将ES6代码转换为当前浏览器支持的ES5代码。systemjs会自动加载 这个模块。<br>13  实例<br>13.1  三种通信实例<br>本实例演示组件通信的三种方法：事件、服务、注入。提供源码。<br>三种方法的理解：事件<br>地址：<a href="https://github.com/SekibOmazic/angular2-playground" target="_blank" rel="external">https://github.com/SekibOmazic/angular2-playground</a><br>演示方法：<br>1下载源代码，点击Download Zip下载</p>
<p>2解压下载的ZIP文件<br>3命令行进入解压好的目录，npm i回车</p>
<p>4gulp play</p>
<p>5实际显示页面，三种通信方法</p>
<p>14  报错<br>Uncaught SyntaxError: Unexpected token &lt;<br>可能原因：ts文件未能成功编译成js文件，实际的错误提示是找不到js文件。<br>解决：templateUrl路径不对，或是错误使用``引号，应使用’’引号</p>
<p>EXCEPTION: Invalid argument XXXX for XXX ‘function () {}’ in [null]<br>可能原因：参数类型不符。<br>解决：重点检查传入参数的类型。</p>
<p>EXCEPTION: Cannot resolve all parameters for ClassName (Router, ?). Make sure they all have valid type or annotations. in [null]<br>可能原因：找不到class<br>解决：@Inject(forwardRef(()=&gt;ClassName)) classname: ClassName<br>参考：<a href="http://blog.thoughtram.io/angular/2015/09/03/forward-references-in-angular-2.html" target="_blank" rel="external">http://blog.thoughtram.io/angular/2015/09/03/forward-references-in-angular-2.html</a></p>
<p>EXCEPTION: LifeCycle.tick is called recursively<br>可能原因：页面删除时focus状态未清除<br>解决：将focus设置到非动态focus的元素上</p>
<p>15  版本改变<br><a href="https://github.com/angular/angular/blob/master/CHANGELOG.md" target="_blank" rel="external">https://github.com/angular/angular/blob/master/CHANGELOG.md</a><br>16  参考资料<br>官方文档：<br><a href="https://angular.io/docs/js/latest/" target="_blank" rel="external">https://angular.io/docs/js/latest/</a><br><a href="https://github.com/angular/angular" target="_blank" rel="external">https://github.com/angular/angular</a><br><a href="https://github.com/timjacobi/angular2-education" target="_blank" rel="external">https://github.com/timjacobi/angular2-education</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/12/29/screenshot/" itemprop="url">
                  截图工具
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-12-29T15:42:11+08:00" content="2015-12-29">
              2015-12-29
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ubuntu系统自带的screenshot功能太弱，ksnapshot也不能满足我的需要，于是找到了这款强大的截图加标注工具<a href="http://shutter-project.org/" target="_blank" rel="external">shutter</a></p>
<h1 id="官网">官网</h1><p><a href="http://shutter-project.org/" target="_blank" rel="external">http://shutter-project.org/</a></p>
<h1 id="设置PrintScreen键启动shutter">设置PrintScreen键启动shutter</h1><p>1 在<code>系统设置-键盘-快捷键-截图</code>中将所有截图快捷键禁用</p>
<img src="/2015/12/29/screenshot/1.png" alt="1.png" title=""> 
<p>  　<br>2 在<code>系统设置-键盘-快捷键-自定义快捷键</code>中新增<code>shutter -s</code>，并设置Print键</p>
<img src="/2015/12/29/screenshot/2.png" alt="2.png" title="">
<p>　<br>设置完成后，就可以一键截图了，和windows下的Snagit一样好用</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/12/24/unit-test/" itemprop="url">
                  unit-test
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-12-24T00:04:48+08:00" content="2015-12-24">
              2015-12-24
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The BDD interface provides describe(), context(), it(), before(), after(), beforeEach(), and afterEach().<br>context() is just an alias for describe()<br>异步测试时，在it(‘xx’, function(done){setTimeout(function(){assert(true);done();}, 0);});中使用done<br>mocha 教程</p>
<h1 id="单元测试">单元测试</h1><p><a href="http://www.alloyteam.com/2013/12/hour-class-learning-costs-javascript-unit-testing-tool-matcha-mocha-and-chai/" target="_blank" rel="external">http://www.alloyteam.com/2013/12/hour-class-learning-costs-javascript-unit-testing-tool-matcha-mocha-and-chai/</a></p>
<h1 id="集成测试">集成测试</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/12/22/promise/" itemprop="url">
                  promise笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-12-22T22:48:36+08:00" content="2015-12-22">
              2015-12-22
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="new_Promise()">new Promise()</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getURL</span>(<span class="params">URL</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> req = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">        req.open(<span class="string">'GET'</span>, URL, <span class="literal">true</span>);</div><div class="line">        req.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (req.status === <span class="number">200</span>) &#123;</div><div class="line">                resolve(req.responseText);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                reject(<span class="keyword">new</span> <span class="built_in">Error</span>(req.statusText));</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        req.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            reject(<span class="keyword">new</span> <span class="built_in">Error</span>(req.statusText));</div><div class="line">        &#125;;</div><div class="line">        req.send();</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> URL = <span class="string">"http://httpbin.org/get"</span>;</div><div class="line">getURL(URL).then(<span class="function"><span class="keyword">function</span> <span class="title">onFulfilled</span>(<span class="params">value</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(value);</div><div class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> <span class="title">onRejected</span>(<span class="params">error</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.error(error);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><code>resolve(req.responseText)</code> 在response的内容中加入了参数。<br><code>reject(new Error(req.statusText))</code> 创建一个Error对象后再将具体的值传进去。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Promise</span>.resolve(<span class="number">11</span>);</div><div class="line">等价于</div><div class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>)</span>&#123;resolve(<span class="number">11</span>);&#125;);</div></pre></td></tr></table></figure>
<p>同理Promise.reject(value);</p>
<h1 id="-catch(error)">.catch(error)</h1><p>使用.catch来将resolve和reject处理分开来写是比较推荐的做法，这样catch就可以捕获到resolve中的错误<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">throwError</span>(<span class="params">value</span>) </span>&#123;</div><div class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// &lt;1&gt; onRejected不会被调用</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">badMain</span>(<span class="params">onRejected</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="number">42</span>).then(throwError, onRejected);</div><div class="line">&#125;</div><div class="line"><span class="comment">// &lt;2&gt; 有异常发生时onRejected会被调用</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">goodMain</span>(<span class="params">onRejected</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="number">42</span>).then(throwError).catch(onRejected);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 运行示例</span></div><div class="line">badMain(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"BAD"</span>);</div><div class="line">&#125;);</div><div class="line">goodMain(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"GOOD"</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h1 id="-all">.all</h1><p>接收一个 promise对象的数组作为参数，当这个数组里的所有promise对象全部变为resolve或reject状态的时候，它才会去调用 .then 方法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getURL</span>(<span class="params">URL</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> req = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">        req.open(<span class="string">'GET'</span>, URL, <span class="literal">true</span>);</div><div class="line">        req.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (req.status === <span class="number">200</span>) &#123;</div><div class="line">                resolve(req.responseText);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                reject(<span class="keyword">new</span> <span class="built_in">Error</span>(req.statusText));</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        req.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            reject(<span class="keyword">new</span> <span class="built_in">Error</span>(req.statusText));</div><div class="line">        &#125;;</div><div class="line">        req.send();</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> request = &#123;</div><div class="line">        comment: <span class="function"><span class="keyword">function</span> <span class="title">getComment</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> getURL(<span class="string">'http://azu.github.io/promises-book/json/comment.json'</span>).then(<span class="built_in">JSON</span>.parse);</div><div class="line">        &#125;,</div><div class="line">        people: <span class="function"><span class="keyword">function</span> <span class="title">getPeople</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> getURL(<span class="string">'http://azu.github.io/promises-book/json/people.json'</span>).then(<span class="built_in">JSON</span>.parse);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.all([request.comment(), request.people()]);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 运行示例</span></div><div class="line">main().then(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(value);</div><div class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(error);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h1 id="-race">.race</h1><p>只要有一个promise对象进入 FulFilled 或者 Rejected 状态的话，就会继续进行后面的处理</p>
<p>全文：<a href="http://liubin.github.io/promises-book/" target="_blank" rel="external">http://liubin.github.io/promises-book/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/12/19/fontawesome/" itemprop="url">
                  Font Awesome
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-12-19T14:41:23+08:00" content="2015-12-19">
              2015-12-19
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>如何像文字一样使用图标？可以给图标设置大小、颜色、甚至风格么，就像文字设置字号、颜色、字体一样简单么？<br>答案就是Font Awesome</p>
<h1 id="官网">官网</h1><p><a href="http://www.bootcss.com/p/font-awesome/" target="_blank" rel="external">http://www.bootcss.com/p/font-awesome/</a><br><a href="http://fontawesome.io" target="_blank" rel="external">http://fontawesome.io</a></p>
<h1 id="原理">原理</h1><p>在使用了Font Awesome的网页上审查图标元素，看不到任何image引用，原因就是它使用了字体库</p>
<p>打开Font Awesome的源码<br><code>@font-face</code> 定义外部引用字体<br><code>.fa</code> 定义图标的基础样式<br><code>.fa-lg .fa-2x .fa-4x ...</code> 定义图标大小样式<br><img src="/2015/12/19/fontawesome/2.png" alt="2.png" title=""></p>
<p>实际的图标就是在content属性通过转义的字符串引用<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.fa-lock</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">"\f023"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<img src="/2015/12/19/fontawesome/1.png" alt="1.png" title="">
<h1 id="使用">使用</h1><p>使用就非常简单了，直接引用相应的图标class，大小class，效果class即可<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-link fa-2x"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 链接<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h1 id="深入阅读">深入阅读</h1><p><a href="http://www.verydemo.com/demo_c447_i8251.html" target="_blank" rel="external">http://www.verydemo.com/demo_c447_i8251.html</a><br><a href="http://www.jb51.net/css/70033.html" target="_blank" rel="external">http://www.jb51.net/css/70033.html</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/12/19/rime/" itemprop="url">
                  中州韵输入法Rime
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-12-19T00:01:34+08:00" content="2015-12-19">
              2015-12-19
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>官方网站：<a href="http://rime.im/" target="_blank" rel="external">http://rime.im/</a><br>网上评价颇高，实际使用确实不错。特别是高度可定制的<a href="https://github.com/rime/home/wiki/RimeWithSchemata" target="_blank" rel="external">输入方案</a>，可以定制独一无二的输入法。</p>
<h1 id="Rime五笔86输入法安装">Rime五笔86输入法安装</h1><p>1 ubuntu软件中心直接搜索安装<br>2 将五笔86的方案文件复制到 Rime 用户文件夹中<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$sudo</span> cp /usr/share/rime-data/wubi86<span class="selector-class">.schema</span><span class="selector-class">.yaml</span> ~/.config/fcitx/rime</div></pre></td></tr></table></figure></p>
<p>3 打开 Rime 用户文件夹中的 default.yaml 文件<br><code>~/.config/fcitx/rime/default.yaml</code><br>在 schema_list 尾部添加一行 “- schema: wubi86″，保存退出<br><img src="/2015/12/19/rime/rime_default_yaml.png" alt="default.yaml" title="default.yaml"><br>4 重新部署启动一下rime. 就可以在方案菜单（按 F4 或 Ctrl+`）中选择五笔86了</p>
<p>另一篇介绍Rime: <a href="http://www.barretlee.com/blog/2015/11/20/new-input-methed-rime/" target="_blank" rel="external">http://www.barretlee.com/blog/2015/11/20/new-input-methed-rime/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/12/12/sass/" itemprop="url">
                  sass & less
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-12-12T17:00:05+08:00" content="2015-12-12">
              2015-12-12
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>&amp;</code> 父元素选择器, 将替换成所有层叠的父选择器<br><code>@extend %button;</code> 引用%button样式<br><code>%button</code> 只能被引用的样式，不能单独使用</p>
<p>less也有Mixins，而且可以直接引用CLASS</p>
<h1 id="less_extend">less extend</h1><p>T6在另一个文件CommonRules.css<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.T6</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>本文件要extend T6，则必须将css处理为less，即@import (less)<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@import</span> (less, reference) <span class="string">"css/common/common-style/CommonRules.css"</span>;</div><div class="line"></div><div class="line"><span class="selector-id">#my_tv_page</span> <span class="selector-id">#record_manage_widget</span> <span class="selector-id">#mytv_record_space_tip</span><span class="selector-class">.space-tip-withoutline</span>&#123;</div><div class="line">    <span class="attribute">left</span>: <span class="number">50px</span>;</div><div class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:extend(.T6)</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/12/11/kpi/" itemprop="url">
                  KPI
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-12-11T22:39:56+08:00" content="2015-12-11">
              2015-12-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="雪碧图">雪碧图</h1><p>使用gulp生成sprites图片和样式表<br><a href="http://www.w3ctrain.com/2015/12/09/generating-sprites-with-gulp/" target="_blank" rel="external">http://www.w3ctrain.com/2015/12/09/generating-sprites-with-gulp/</a></p>
<h1 id="handlebars">handlebars</h1><p>预编译模板</p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br>function aaa(o1, o2, o3, o4, e1, e2){<br>    var best_result;<br>    var result = [];</p>
<pre><code>best_result = (o1 + o2 + o3 + o4 + e1 + e2) / <span class="number">6</span> * <span class="number">0</span>.<span class="number">98</span>;
&lt;!-- console.log(best_result); --&gt;

<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arguments.length; i++){
    <span class="keyword">if</span>(arguments[i] === best_result){
        <span class="literal">result</span>[i] = <span class="number">0</span>;
    }
    <span class="keyword">else</span> <span class="keyword">if</span>(arguments[i] &gt; best_result){
        <span class="literal">result</span>[i] = (arguments[i] - best_result) / best_result * <span class="number">100</span>;
    }
    <span class="keyword">else</span>{
        <span class="literal">result</span>[i] = (best_result - arguments[i]) / best_result * <span class="number">50</span> ;
    }
    &lt;!-- console.log(<span class="literal">result</span>[i]); --&gt;
}

<span class="keyword">if</span>(<span class="type">Math</span>.min(<span class="literal">result</span>[<span class="number">0</span>], <span class="literal">result</span>[<span class="number">1</span>], <span class="literal">result</span>[<span class="number">2</span>], <span class="literal">result</span>[<span class="number">3</span>]) &lt; <span class="type">Math</span>.min(<span class="literal">result</span>[<span class="number">4</span>], <span class="literal">result</span>[<span class="number">5</span>])){
    <span class="keyword">return</span> <span class="literal">true</span>;
}
<span class="keyword">else</span>{
    <span class="keyword">return</span> <span class="literal">false</span>;
}
</code></pre><p>}</p>
<p>function b(){<br>    out_i:<br>    for(var i = 2800000; i &lt; 4300000; i+=10000){<br>        console.log(‘i=’+i);<br>        for(var j = 2800000; j &lt; 4300000; j+=10000){<br>            for(var k = 2800000; k &lt; 4300000; k+=10000){<br>                for(var u = 2800000; u &lt; 4300000; u+=10000){<br>                    outer:<br>                    for(var v = 2800000; v &lt; 4300000; v+=10000){<br>                        for(var w = 2800000; w &lt; 4300000; w+=10000){<br>                            if(!aaa(i,j,k,u,v,w)){<br>                                <!-- console.log('w='+w+'v='+v+'u='+u+'k='+k+'j='+j+'i='+i); --><br>                                break outer;<br>                            }<br>                            if(v === 4300000 &amp;&amp; w === 4300000){<br>                                console.log(‘win:’+i+’,’+j+’,’+k+’,’+u);<br>                                break out_i;<br>                            }<br>                        }<br>                    }<br>                }<br>            }<br>        }<br>    }</p>
<h1 id="}">}</h1><blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>bed7b8dc1855a68fd337e1e0733c839809d00117</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/07/handlebars/" itemprop="url">
                  handlebars
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-11-07T22:13:23+08:00" content="2015-11-07">
              2015-11-07
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="templates模板函数">templates模板函数</h1><p>templates是一个函数数组，里面的函数都是使用hbs文件预编译生成的，一个hbs文件代表一段HTML代码，该文件编译生成一个函数，返回值就是HTML模板<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chanTpl = templates[<span class="string">'widget.RecordManage.TaskTpl'</span>](<span class="link"></span>);</div></pre></td></tr></table></figure></p>
<h1 id="helper">helper</h1><p>条件判断helper, 根据handlebars轻逻辑的思想, 是不鼓励这么用<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">var ifConFuncMaps = &#123;</div><div class="line">        <span class="string">'=='</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return (<span class="built_in">v1</span> == v2) ? options.fn(<span class="built_in">context</span>) : options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'==='</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return (<span class="built_in">v1</span> === v2) ? options.fn(<span class="built_in">context</span>) : options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'!='</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return (<span class="built_in">v1</span> != v2) ? options.fn(<span class="built_in">context</span>) : options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'!=='</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return (<span class="built_in">v1</span> !== v2) ? options.fn(<span class="built_in">context</span>) : options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'&lt;'</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return (<span class="built_in">v1</span> &lt; v2) ? options.fn(<span class="built_in">context</span>) : options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'&lt;='</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return (<span class="built_in">v1</span> &lt;= v2) ? options.fn(<span class="built_in">context</span>) : options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'&gt;'</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return (<span class="built_in">v1</span> &gt; v2) ? options.fn(<span class="built_in">context</span>) : options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'&gt;='</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return (<span class="built_in">v1</span> &gt;= v2) ? options.fn(<span class="built_in">context</span>) : options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'&amp;&amp;'</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return (<span class="built_in">v1</span> &amp;&amp; v2) ? options.fn(<span class="built_in">context</span>) : options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'||'</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return (<span class="built_in">v1</span> <span class="title">||</span> v2) ? options.fn(<span class="built_in">context</span>) : options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'default'</span>: function(<span class="built_in">v1</span>, v2, options, <span class="built_in">context</span>) &#123;</div><div class="line">            return options.inverse(<span class="built_in">context</span>)<span class="comment">;</span></div><div class="line">        &#125;</div><div class="line">    &#125;<span class="comment">;</span></div><div class="line">    Handlebars.registerHelper(<span class="string">'ifCond'</span>, function(<span class="built_in">v1</span>, operator, v2, options) &#123;</div><div class="line">        var fn = ifConFuncMaps[operator] <span class="title">||</span> ifConFuncMaps[<span class="string">'default'</span>]<span class="comment">;</span></div><div class="line">        return fn(<span class="built_in">v1</span>, v2, options, this)<span class="comment">;</span></div><div class="line">    &#125;)<span class="comment">;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight handlebars"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="xml"></span><span class="template-tag">&#123;&#123;#<span class="name">ifCond</span> status '===' '2' &#125;&#125;</span><span class="xml"></span></div><div class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"status ui-text-small"</span>&gt;</span>Status: Fail<span class="tag">&lt;/<span class="name">span</span>&gt;</span> </div><div class="line"><span class="template-variable">&#123;&#123;<span class="builtin-name">else</span>&#125;&#125;</span><span class="xml"></span></div><div class="line">    <span class="template-tag">&#123;&#123;#<span class="name">ifCond</span> status '===' '1' &#125;&#125;</span><span class="xml"></span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"progress_bg"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"progress"</span> <span class="attr">style</span>=<span class="string">"width: </span></span><span class="template-variable">&#123;&#123;progress&#125;&#125;</span><span class="xml"><span class="tag"><span class="string">%;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="template-tag">&#123;&#123;/<span class="name">ifCond</span>&#125;&#125;</span><span class="xml"></span></div><div class="line"><span class="template-tag">&#123;&#123;/<span class="name">ifCond</span>&#125;&#125;</span><span class="xml"></span></div></pre></td></tr></table></figure>
<p>handlebars循环<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Handlebars.registerHelper(<span class="string">'times'</span>, <span class="function"><span class="keyword">function</span><span class="params">(n, block)</span> &#123;</span></div><div class="line">    var accum = <span class="string">''</span>;</div><div class="line">    <span class="keyword">for</span>(var <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; n; ++<span class="built_in">i</span>) &#123;</div><div class="line">        accum += block.fn(i);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> accum;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<figure class="highlight htmlbars"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="xml"></span><span class="template-tag">&#123;&#123;#<span class="name"><span class="builtin-name">each</span></span> actionList <span class="keyword">as</span> |it k|&#125;&#125;</span><span class="xml"></span></div><div class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"ui-button ui-text-medium"</span>&gt;</span><span class="template-variable">&#123;&#123;it.name&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></div><div class="line"><span class="template-tag">&#123;&#123;/<span class="name"><span class="builtin-name">each</span></span>&#125;&#125;</span><span class="xml"></span></div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/04/bug/" itemprop="url">
                  bug收集
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-11-04T22:21:17+08:00" content="2015-11-04">
              2015-11-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/bug/" itemprop="url" rel="index">
                    <span itemprop="name">bug</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="hexo">hexo</h1><figure class="highlight clojure"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;&#125;&#125;</div></pre></td></tr></table></figure>
<p>如果不加代码高亮,将引起如下错误<br>Template render error: unexpected token: }}<br>    at Error.exports.TemplateError (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/<font color="red">nunjucks</font>/src/lib.js:51:19)<br>    at Object.extend.fail (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:64:15)<br>    at Object.extend.parsePrimary (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:947:18)<br>    at Object.extend.parseUnary (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:882:25)<br>    at Object.extend.parsePow (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:856:25)<br>    at Object.extend.parseMod (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:844:25)<br>    at Object.extend.parseFloorDiv (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:832:25)<br>    at Object.extend.parseDiv (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:820:25)<br>    at Object.extend.parseMul (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:808:25)<br>    at Object.extend.parseSub (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:796:25)<br>    at Object.extend.parseAdd (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:784:25)<br>    at Object.extend.parseCompare (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:751:25)<br>    at Object.extend.parseIn (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:720:23)<br>    at Object.extend.parseNot (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:716:21)<br>    at Object.extend.parseAnd (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:698:25)<br>    at Object.extend.parseOr (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:686:25)<br>    at Object.extend.parseInlineIf (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:668:25)<br>    at Object.extend.parseExpression (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:663:25)<br>    at Object.extend.parseNodes (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:1158:30)<br>    at Object.extend.parseAsRoot (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:1177:42)<br>    at Object.module.exports.parse (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:1199:18)<br>    at Object.module.exports.compile (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/compiler.js:1118:48)<br>    at Obj.extend._compile (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/environment.js:444:35)<br>    at Obj.extend.compile (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/environment.js:433:18)<br>    at null.<anonymous> (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/environment.js:378:22)<br>    at Object.exports.withPrettyErrors (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/lib.js:24:16)<br>    at Obj.extend.render (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/environment.js:374:20)<br>    at Obj.extend.renderString (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/environment.js:261:21)<br>    at /media/nari/工作/blog/blog/node_modules/hexo/lib/extend/tag.js:56:9<br>    at tryCatcher (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/util.js:26:23)<br>    at Promise._resolveFromResolver (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/promise.js:480:31)<br>    at new Promise (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/promise.js:70:37)<br>    at Tag.render (/media/nari/工作/blog/blog/node_modules/hexo/lib/extend/tag.js:55:10)<br>    at Object.tagFilter [as onRenderEnd] (/media/nari/工作/blog/blog/node_modules/hexo/lib/hexo/post.js:253:16)<br>    at /media/nari/工作/blog/blog/node_modules/hexo/lib/hexo/render.js:55:19<br>    at tryCatcher (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/util.js:26:23)<br>    at Promise._settlePromiseFromHandler (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/promise.js:507:31)<br>    at Promise._settlePromiseAt (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/promise.js:581:18)<br>    at Promise._settlePromises (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/promise.js:697:14)<br>    at Async._drainQueue (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/async.js:123:16)<br>    at Async._drainQueues (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/async.js:133:10)<br>    at Immediate.Async.drainQueues [as _onImmediate] (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/async.js:15:14)<br>    at processImmediate [as _immediateCallback] (timers.js:367:17)</anonymous></p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="keyword">div</span>&gt;&#123;&#123;visible?<span class="string">'&amp;blacktriangledown;'</span>:<span class="string">'&amp;blacktriangleright;'</span>&#125;&#125;&lt;/<span class="keyword">div</span>&gt;</div></pre></td></tr></table></figure>
<p>如果不加代码高亮,将引起如下错误<br>Template render error: expected variable end<br>    at Error.exports.TemplateError (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/lib.js:51:19)<br>    at Object.extend.fail (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:64:15)<br>    at Object.extend.advanceAfterVariableEnd (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:133:18)<br>    at Object.extend.parseNodes (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:1159:22)<br>    at Object.extend.parseAsRoot (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:1177:42)<br>    at Object.module.exports.parse (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/parser.js:1199:18)<br>    at Object.module.exports.compile (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/compiler.js:1118:48)<br>    at Obj.extend._compile (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/environment.js:444:35)<br>    at Obj.extend.compile (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/environment.js:433:18)<br>    at null.<anonymous> (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/environment.js:378:22)<br>    at Object.exports.withPrettyErrors (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/lib.js:24:16)<br>    at Obj.extend.render (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/environment.js:374:20)<br>    at Obj.extend.renderString (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/nunjucks/src/environment.js:261:21)<br>    at /media/nari/工作/blog/blog/node_modules/hexo/lib/extend/tag.js:56:9<br>    at tryCatcher (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/util.js:26:23)<br>    at Promise._resolveFromResolver (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/promise.js:480:31)<br>    at new Promise (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/promise.js:70:37)<br>    at Tag.render (/media/nari/工作/blog/blog/node_modules/hexo/lib/extend/tag.js:55:10)<br>    at Object.tagFilter [as onRenderEnd] (/media/nari/工作/blog/blog/node_modules/hexo/lib/hexo/post.js:253:16)<br>    at /media/nari/工作/blog/blog/node_modules/hexo/lib/hexo/render.js:55:19<br>    at tryCatcher (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/util.js:26:23)<br>    at Promise._settlePromiseFromHandler (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/promise.js:507:31)<br>    at Promise._settlePromiseAt (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/promise.js:581:18)<br>    at Promise._settlePromises (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/promise.js:697:14)<br>    at Async._drainQueue (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/async.js:123:16)<br>    at Async._drainQueues (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/async.js:133:10)<br>    at Immediate.Async.drainQueues [as _onImmediate] (/media/nari/工作/blog/blog/node_modules/hexo/node_modules/bluebird/js/main/async.js:15:14)<br>    at processImmediate [as _immediateCallback] (timers.js:367:17)</anonymous></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/05/podcast-about-frontend/" itemprop="url">
                  podcast about frontend
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-05T22:33:36+08:00" content="2015-10-05">
              2015-10-05
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="有用的前端英语播客">有用的前端英语播客</h2><h4 id="Javascript">Javascript</h4><ul>
<li><a href="https://devchat.tv/js-jabber" target="_blank" rel="external">https://devchat.tv/js-jabber</a> A weekly podcast about JavaScript, including Node.js, Front-End Technologies, Careers, Teams and more.</li>
<li><a href="http://www.jsclasses.org/blog/category/podcast/" target="_blank" rel="external">http://www.jsclasses.org/blog/category/podcast/</a> Recorded shows of the Lately in JavaScript podcast</li>
<li><a href="https://fivejs.codeschool.com/" target="_blank" rel="external">https://fivejs.codeschool.com/</a> The latest news in the JavaScript community.</li>
</ul>
<p>摘自:<a href="http://www.imooc.com/article/1833" target="_blank" rel="external">http://www.imooc.com/article/1833</a></p>
<p>Snagit 12.rar</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/09/15/css-layout/" itemprop="url">
                  css layout
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-09-15T23:11:25+08:00" content="2015-09-15">
              2015-09-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>居中<br>/<em> Internet Explorer 10 </em>/<br>display:-ms-flexbox;<br>-ms-flex-pack:center;<br>-ms-flex-align:center;</p>
<p>/<em> Firefox </em>/<br>display:-moz-box;<br>-moz-box-pack:center;<br>-moz-box-align:center;</p>
<p>/<em> Safari, Opera, and Chrome </em>/<br>display:-webkit-box;<br>-webkit-box-pack:center;<br>-webkit-box-align:center;</p>
<p>/<em> W3C </em>/<br>display:box;<br>box-pack:center;<br>box-align:center;</p>
<p>border<br>border-style: solid;<br>border-width: 3px;<br>border-color: #313638;<br>border-radius: 15px; //圆角</p>
<p>font字体大小及居中<br>font: -webkit-control;<br>font-size: x-large;<br>text-align: center;<br>line-height: 200%;</p>
<p>文字单行省略<br>overflow: hidden;<br>white-space: nowrap;<br>text-overflow: ellipsis;</p>
<p>overflow: hidden; //隐藏超出范围<br>box-shadow: 0px 0px 30px 6px #1a2123; //阴影<br>background-color: rgba(26, 33, 34, 0.8);<br>background-image: url(“/assets/images/04LiveTV/arrow_down.png”); //url从./或../或/开始<br>background-size: 20px 12px; //背景的拉伸<br>background-repeat: no-repeat;</p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br>渐隐效果<br>-webkit-mask-image: -webkit-gradient(linear, 640 0, 770 0, from(#000000), to(rgba(0, 0, 0, 0)));</p>
<p>=======</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>bed7b8dc1855a68fd337e1e0733c839809d00117</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>css文件里可以引用其它css文件:<br>@import url(my.css);</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/09/11/gulp/" itemprop="url">
                  gulp用法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-09-11T20:43:10+08:00" content="2015-09-11">
              2015-09-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/自动化/" itemprop="url" rel="index">
                    <span itemprop="name">自动化</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>gulp.task(name, fn) - 定义任务，第一个参数是任务名，第二个参数是任务内容。<br>gulp.task(name [, deps, fn])</p>
<p>gulp.src(path) - 选择文件，传入参数是文件路径。<br>gulp.dest(path) - 输出文件<br>gulp.pipe() - 管道，你可以暂时将 pipe 理解为将操作加入执行队列<br><a href="https://nodejs.org/api/stream.html#stream_readable_pipe_destination_options" target="_blank" rel="external">https://nodejs.org/api/stream.html#stream_readable_pipe_destination_options</a></p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">npm</span> init</div><div class="line"><span class="built_in">npm</span> install gulp-uglify --save-dev</div></pre></td></tr></table></figure>
<h1 id="插件">插件</h1><p>gulp-uglify 压缩js文件<br>gulp-minify-css 压缩css文件</p>
<p>chapter4.md gulp.watch(‘images/<em>.</em>)’, [‘images’])有一点错误</p>
<p>gulp-sass<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">var</span> gulp = require(<span class="string">'gulp'</span>)</div><div class="line"><span class="selector-tag">var</span> gutil = require(<span class="string">'gulp-util'</span>)</div><div class="line"></div><div class="line">gulp.task(<span class="string">'default'</span>, function () &#123;</div><div class="line">    gutil.log(<span class="string">'message'</span>)</div><div class="line">    gutil.log(gutil<span class="selector-class">.colors</span><span class="selector-class">.red</span>(<span class="string">'error'</span>))</div><div class="line">    gutil.log(gutil<span class="selector-class">.colors</span><span class="selector-class">.green</span>(<span class="string">'message:'</span>) + <span class="string">"some"</span>)</div><div class="line">&#125;)</div><div class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</div></pre></td></tr></table></figure></p>
<p>(gulp-sequence)[<a href="https://github.com/teambition/gulp-sequence" target="_blank" rel="external">https://github.com/teambition/gulp-sequence</a>]<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//先并行执行a, b, 再执行c, 再并行执行d, e, 再执行f</span></div><div class="line">gulp<span class="selector-class">.task</span>(<span class="string">'sequence-1'</span>, gulpSequence([<span class="string">'a'</span>, <span class="string">'b'</span>], <span class="string">'c'</span>, [<span class="string">'d'</span>, <span class="string">'e'</span>], <span class="string">'f'</span>));</div></pre></td></tr></table></figure></p>
<p>(del)[<a href="https://github.com/sindresorhus/del" target="_blank" rel="external">https://github.com/sindresorhus/del</a>]</p>
<p>(gulp-less)[<a href="https://github.com/plus3network/gulp-less" target="_blank" rel="external">https://github.com/plus3network/gulp-less</a>]<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">gulp</span><span class="selector-class">.task</span>(<span class="string">'less'</span>, function() &#123;</div><div class="line">    <span class="selector-tag">return</span> <span class="selector-tag">gulp</span><span class="selector-class">.src</span>(config.cssPaths)</div><div class="line">        <span class="selector-class">.pipe</span>(less(&#123;</div><div class="line">            <span class="attribute">paths</span>: [path.join(__dirname, <span class="string">'src/customize/res'</span>)]</div><div class="line">        &#125;))</div><div class="line">        <span class="selector-class">.pipe</span>(concat(<span class="string">'all.css'</span>))</div><div class="line">        <span class="selector-class">.pipe</span>(gulp.dest(<span class="string">'src/customize/res/css'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>(gulp-handlebars)[<a href="https://github.com/lazd/gulp-handlebars" target="_blank" rel="external">https://github.com/lazd/gulp-handlebars</a>]<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">gulp</span><span class="selector-class">.task</span>(<span class="string">'handlebars'</span>, function() &#123;</div><div class="line">    <span class="selector-tag">return</span> <span class="selector-tag">gulp</span><span class="selector-class">.src</span>(config.templatesSrc)</div><div class="line">        <span class="selector-class">.pipe</span>(handlebars(&#123;</div><div class="line">            <span class="attribute">handlebars</span>: require(<span class="string">'handlebars'</span>),</div><div class="line">            <span class="attribute">compilerOptions</span>: &#123;</div><div class="line">                <span class="attribute">knownHelpers</span>: &#123;</div><div class="line">                    <span class="attribute">image</span>: true,</div><div class="line">                    <span class="attribute">text</span>: true,</div><div class="line">                    <span class="attribute">ifCond</span>: true,</div><div class="line">                    <span class="attribute">times</span>: true</div><div class="line">                &#125;,</div><div class="line">                <span class="attribute">knownHelpersOnly</span>: true</div><div class="line">            &#125;</div><div class="line">        &#125;))</div><div class="line">        <span class="selector-class">.pipe</span>(wrap(<span class="string">'Handlebars.template(&lt;%= contents %&gt;)'</span>))</div><div class="line">        <span class="selector-class">.pipe</span>(handlebarsDeclare(&#123;</div><div class="line">            <span class="attribute">namespace</span>: <span class="string">'templates'</span></div><div class="line">        &#125;))</div><div class="line">        <span class="selector-class">.pipe</span>(concat(<span class="string">'templates.js'</span>))</div><div class="line">        <span class="selector-class">.pipe</span>(header(fs.readFileSync(<span class="string">'tool/handlebars/prepend.js'</span>, <span class="string">'utf8'</span>)))</div><div class="line">        <span class="selector-class">.pipe</span>(footer(<span class="string">'\n'</span> + fs.readFileSync(<span class="string">'tool/handlebars/append.js'</span>, <span class="string">'utf8'</span>)))</div><div class="line">        <span class="selector-class">.pipe</span>(gulp.dest(config.templatesDest));</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>exec<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">gulp.task(<span class="string">'svn.update'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">cb</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> cwd = process.cwd();</div><div class="line">    <span class="keyword">var</span> cmd_command = <span class="string">'TortoiseProc.exe /command:update /path:'</span> + cwd + <span class="string">' /closeonend:1'</span>;</div><div class="line">    exec(cmd_command, <span class="function"><span class="keyword">function</span>(<span class="params">err, stdout, stderr</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(stdout);</div><div class="line">        <span class="built_in">console</span>.log(stderr);</div><div class="line">        cb(err);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line">=======</div><div class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; bed7b8dc1855a68fd337e1e0733c839809d00117</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/30/nodejs/" itemprop="url">
                  nodejs笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-08-30T21:53:12+08:00" content="2015-08-30">
              2015-08-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="nvm">nvm</h2><p>install nvm:<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -<span class="keyword">o</span>- http<span class="variable">s:</span>//raw.githubusercontent.<span class="keyword">com</span>/creationix/nvm/v0.<span class="number">29.0</span>/install.<span class="keyword">sh</span> | bash</div></pre></td></tr></table></figure></p>
<p>nvm的安装后，运行node程序可能会导致如下错误<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/bin/env: <span class="keyword">node</span><span class="title">: 没有那个文件或目录</span></div></pre></td></tr></table></figure></p>
<p>临时使用：<br>1 <code>nvm ls</code>查看当前使用版本<br>2 如果没有绿色箭头指向某个版本，则<code>nvm use 0.12</code><br>长久解决:<br><code>$ nvm alias default 0.12</code><br>from: <a href="https://github.com/alsotang/node-lessons/tree/master/lesson0" target="_blank" rel="external">https://github.com/alsotang/node-lessons/tree/master/lesson0</a></p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<h1 id="npm">npm</h1><p><code>npm install -d</code> 显示安装日志</p>
<p>=======</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>bed7b8dc1855a68fd337e1e0733c839809d00117</p>
<h2 id="npm源">npm源</h2></blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p><code>npm config set registry http://registry.cnpmjs.org</code> 国内源<br><code>npm config set registry &quot;http://registry.npmjs.org/&quot;</code> 官方源</p>
<p>如果卡顿，可尝试关闭https npm config set strict-ssl false</p>
<h2 id="cnpm">cnpm</h2><p> 1.安装cnpm工具 npm install -g cnpm –registry=<a href="http://r.cnpmjs.org" target="_blank" rel="external">http://r.cnpmjs.org</a> 或npm install -g cnpm –registry=<a href="http://registry.npm.taobao.org" target="_blank" rel="external">http://registry.npm.taobao.org</a><br> 2.使用cnpm安装模块 cnpm install xxx 原文：<a href="http://segmentfault.com/a/1190000000471219" target="_blank" rel="external">http://segmentfault.com/a/1190000000471219</a></p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install microtime --<span class="keyword">registry</span>=<span class="keyword">http</span>://r.cnpmjs.org --disturl=<span class="keyword">http</span>://dist.cnpmjs.org</div></pre></td></tr></table></figure>
<p>grunt-cli会执行当前目录中package.json文件指定的grunt版本，来读取当前目录下的gruntfile的配置文件，然后按其中的配置项来执行自动化。 之所以这样是为了多个grunt版本并存，来支持新老项目。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/06/web-developer-skilles/" itemprop="url">
                  web developer skilles
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-08-06T21:46:18+08:00" content="2015-08-06">
              2015-08-06
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="WEB开发者应该有哪些必备的技能？">WEB开发者应该有哪些必备的技能？</h2><p>WEB开发本身涵盖了许多领域的许多技术，那么，有哪些是WEB开发者必备的技能呢?这是一个 Quora 上用户提出的问题，其中Ellyse Taylor的回答获得了1900+的赞同，以下内容是整理翻译Ellyse Taylor的回答内容，希望每位WEB开发者及将要迈入前端开发领域的技术者从中收获所需。</p>
<p>By Ellyse Taylor：</p>
<p>可能很多人对下面这个列表中的大部分内容都已经了解了，但其中必定有一些是你之前没有看到过，或者没有完全理解的，甚至有些你可能从来没听说过。</p>
<h4 id="1-_界面和用户体验">1. 界面和用户体验</h4><p>注意，浏览器的实现标准是不一致的，请确保你的网站能够兼容所有主流的浏览器。最少需要测试的有 Gecko 引擎(Firefox)，WebKit引擎(Safari以及一些手机浏览器)，Chrome，你所要支持的 IE 浏览器，以及 Opera。此外，你还需要了解不同系统下，浏览器是如何渲染网页的。</p>
<p>考虑一下人们不使用主流浏览器的情况，如手机，屏幕阅读器和搜索引擎。一些可用的辅助信息：WAI 和 Section508，移动开发：MobiForge。</p>
<p>阶段：如何在不影响用户的情况下部署更新。有一个或多个可以用来改变架构、代码或全部内容，并确保它们在可控范围内实现部署的测试或临时环境。有一种自动化的方式把更新部署到线上网站。最有效的实现方式是结合使用版本控制系统(CVS、Subversion等)和自动构建机制(Ant、NAnt等)。</p>
<p>不要直接向用户显示不友好的错误信息。</p>
<p>不要用纯文本的方式显示用户的电子邮件，因为他们可能会被垃圾邮件烦到死。</p>
<p>为用户生成的链接添加 rel=”nofollow” 属性，以避免垃圾邮件。</p>
<p>为你的网站建立周全的限制–这条也同时属于安全方面。</p>
<p>学习如何进一步的提高。</p>
<p>POST 提交成功后进行重定向，以免刷新造成重复提交。</p>
<p>别忘了考虑无障碍访问。这总是不错的，在某些情况下，这甚至是法律要求的。 WAI-ARIA 和 WCAG 2 里都有关于这方面很好的资源。</p>
<p>不要让我思考。</p>
<h4 id="2-_安全">2. 安全</h4><p>OWASP开发指南几乎覆盖了网站安全所有的内容。</p>
<p>了解注入，尤其是 SQL注入，并学会如何阻止它。</p>
<p>永远不要相信用户的输入，以及其他任何请求(包括Cookies和隐藏域的值)。</p>
<p>使用盐值(salt)哈希密码，并对不同的行使用不同的盐值，防止攻击。使用哈希算法如 bcrypt 或 scrypt(更安全，但比较新)(1, 2)来存储密码。(如何安全的存储密码)。NIST也允许使用PBKDF2来加密密码。避免直接使用 MD5 和 SHA 等算法。</p>
<p>不要企图拿出自己喜欢的认证系统。这是很容易出错的，并且是不可测的，甚至直到你被攻击了你才知道。</p>
<p>了解信用卡处理规则。(也可查看该问题)    </p>
<p>在登录页和任何需要输入敏感数据的页面使用SSL/HTTPS。</p>
<p>防止 session 被劫持。　 </p>
<p>避免跨站脚本(XSS)。　</p>
<p>避免点击劫持。　</p>
<p>保持系统更新到最新的补丁。</p>
<p>确保数据库连接信息的安全。</p>
<p>让自己了解最新的攻击技术和会影响你平台的漏洞。</p>
<p>阅读谷歌浏览器安全手册。</p>
<p>阅读WEB应用黑客手册。</p>
<p>考虑最小特权原则，尽量使用非root用户运行服务器(以tomcat为例)。</p>
<h4 id="3-_性能">3. 性能</h4><p>如果有必要的话，实现缓存，请正确理解和使用HTTP缓存。</p>
<p>优化图片。不要使用20K的图片作为平铺背景。</p>
<p>学习如何 gzip/deflate 内容(deflate效果更好)。</p>
<p>合并样式表与脚本文件以减小浏览器链接数，同时提高 gzip 的压缩能力。</p>
<p>浏览雅虎性能卓越的网站，以及大量的指南，其中包含提升前端性能和YSlow工具(需要安装Firefox, Safari, Chrome 或 Opera)。此外，Google page speed(浏览器扩展)也是一个性能分析工具，它同时可以优化你的图片。</p>
<p>对于小的如工具栏图片，使用CSS Image Sprites(参考最小化HTTP请求)。</p>
<p>访问量大的网站应该考虑跨域拆分组件。</p>
<p>静态内容(如图片、CSS、JavaScript及不需要访问cookie的内容)应该放在一个单独的域下，因为域及其子域的每一个请求都会发送cookie。这里是使用内容分发网络(CDN)的一个很好的选择。</p>
<p>减少浏览器渲染页面所需的HTTP请求的总数量。</p>
<p>利用Google Closure Compiler及其他压缩JS的工具。</p>
<p>确保网站根目录下有一个favicon.ico文件，即使在HTML中并没有提到它，浏览器也会自动加载它。如果你没有 /favicon.ico ，就会返回很多404错误，消耗服务器带宽。</p>
<h4 id="4-_SEO_(Search_Engine_Optimization)_搜索引擎优化">4. SEO (Search Engine Optimization) 搜索引擎优化</h4><p>使用“搜索引擎友好”的URL，如 <a href="http://example.com/pages/45-article-title" target="_blank" rel="external">http://example.com/pages/45-article-title</a> 而不是 <a href="http://ofexample.com/index.php?page=45。" target="_blank" rel="external">http://ofexample.com/index.php?page=45。</a></p>
<p>在动态内容中，把 # 改成 #! ，然后在服务器端使用$_REQUEST[“_escaped<em>fragment</em>“]。换句话说 ./#!page=1 变成了 ./?_escaped<em>fragments</em>=page=1。此外，对于使用 FF.b4 or Chromium 的用户，history.pushState({“foo”:”bar”}, “About”, “./?page=1”); 是一个非常棒的命令。因此，即使地址栏已经改变了，页面也不会刷新。</p>
<p>不要使用“点击这里”这样的链接。你是在浪费一个搜索引擎优化的机会，而且它让使用用屏幕阅读器人们更难阅读。</p>
<p>有一个XML网站地图，最好在默认位置 /sitemap.xml。</p>
<p>当有多个URL指向同一个内容的时候，使用 <link rel="canonical" ...=""> ，这个问题可以通过 Google Webmaster Tools 来解决。</p>
<p>使用 Google Webmaster Tools 和 Bing Webmaster Tools。</p>
<p>安装 Google Analytics 或者其他开源分析工具如：Piwik。</p>
<p>了解 robots.txt 及搜索引擎蜘蛛 是如果工作的。</p>
<p>使用重定向(301)www.example.com 到 example.com(或者反过来)，防止它们平分谷歌网站排名。</p>
<p>要知道有 badly-behaved 蜘蛛的存在。</p>
<p>如果你的网站有非文本内容，Tim Farley 的回答中有一些非常有用的信息。</p>
<h4 id="5-_技术">5. 技术</h4><p>理解HTTP以及GET、POST、session、cookie以及“无状态”的意思。</p>
<p>撰写XHTML/HTML和CSS要遵循W3C规范，并确保它们通过校验。这样做的目的是为了避免浏览器的怪癖模式，并且这使得非标准浏览器如屏幕阅读器和移动设备更加容易实现。</p>
<p>理解浏览器是如何处理JavaScript 的。</p>
<p>理解JavaScript 、样式表、以及页面使用的其他资源是如何加载的，并考虑它们对感知性能的影响。现在普遍认同的一种做法是把除分析代码等以外的脚本文件放在页面底部。</p>
<p>了解JavaScript 沙箱是如何工作的，特别是当你想使用 iframe 的时候。</p>
<p>需要注意到，JavaScript是可以被禁用的，因此AJAX只是一个扩展，而不是基准。虽然大部分用户并没有禁用它，但记住，NoScript正在变得越来越流行。并且，谷歌在索引你的网站时也不会运行JavaScript。</p>
<p>学习 301 和 302 重定向之间的不同。</p>
<p>尽可能多地了解你的部署平台。</p>
<p>考虑使用 Reset Style Sheet 或 normalize.css。</p>
<p>考虑使用JavaScript框架(如jQuery, MooTools, Prototype, Dojo 或 YUI 3)，这可以避免很多使用JavaScript操作DOM时的差异。</p>
<p>在考虑感知性能和框架的同时，考虑使用服务，如Google Libraries API，来加载框架，这样浏览器可以使用已经缓存的框架而不是从你的网站上下载。</p>
<p>不要重复造轮子。在做任何事情之前，先搜索相关的组件或者实例。99%的可能别人已经实现了并发布出了开源的代码。</p>
<p>在确定需求之前，尽量不要使用超过20个的库，这是非常不利的。特别是客户端WEB，保存轻便、快速、灵活是最重要的。</p>
<h4 id="6-_BUG修复">6. BUG修复</h4><p>要了解你花费20%的时间写代码而花费80%的时间来维护，因此写代码时一定注意。</p>
<p>建立一个好的错误报告解决方案。</p>
<p>建立一个别人可以提建议和批评的系统。</p>
<p>为未来的支持人员和维护人员建立良好的文档。</p>
<p>经常备份!Ed Lucas 的回答中有一些建议。有一个恢复策略，而不只是一个备份策略。</p>
<p>使用版本控制系统，如 Subversion、Mercurial 或 Git。</p>
<p>不要忘记验收测试。Selenium 等框架可以帮到你。</p>
<p>请确保您有足够的日志记录的地方，可以使用框架如log4j, log4net 或 log4r。当网站出现问题的时候，你需要能够找到问题所在。</p>
<p>日志要记录已处理异常和未处理异常。分析日志输出，因为它会显示出你网站的关键问题。</p>
<p>这里有些省略的东西并不是因为它们没用，而是因为它们过于详细或者超出了范围，或者说的太远了。当然，上面的内容可能也有一些遗漏或者错误。</p>
<p>via:<a href="http://info.9iphp.com/essential-skills-every-web-developer-should-have/" target="_blank" rel="external">http://info.9iphp.com/essential-skills-every-web-developer-should-have/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/01/regex/" itemprop="url">
                  正则表达式笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-07-01T00:13:50+08:00" content="2015-07-01">
              2015-07-01
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="字符">字符</h1><p><code>\d</code> 匹配数字<br><code>\D</code> 匹配非数字<br><code>\w</code> 匹配字母或数字或下划线或汉字<br><code>\W</code> 匹配非单词字符<br><code>\s</code> 匹配任意的空白符<br><code>\S</code> 匹配非空白字符<br><code>\b</code> 匹配单词边界<br><code>\B</code> 匹配非单词边界<br><code>.</code> 匹配除换行符以外的任意字符<br><code>^</code> 匹配字符串开始<br><code>/test$/</code> 匹配字符串结束 </p>
<h1 id="范围(类操作符)">范围(类操作符)</h1><p><code>[abc]</code> 匹配abc中的一个<br><code>[^abc]</code> 匹配abc以外的任意一个字符<br><code>[a-z]</code> 匹配a-z所有小写字母</p>
<p>有两个字符在[]中有特殊含义，其它均表示字面含义</p>
<p>^ 必须是[]中的第一个字符<br>[^]表示匹配一切字符,而.不包括换行符</p>
<p>- 连字符</p>
<h1 id="转义">转义</h1><p>需要用斜杠转义的，一共有12个字符：<code>^ . [ $ ( ) | * + ? {  \</code></p>
<p><code>\\</code> 匹配\<br><code>\[</code> 匹配[</p>
<p>当操作符的组合可以形成语义时，如果只是想使用其字面量含义，则必须转义<br><code>/1{0}/.test(&#39;1{0}&#39;) //true</code><br><code>/1{2}/.test(&#39;1{2}&#39;) //false</code><br><code>/1\{2}/.test(&#39;1{2}&#39;) //true</code></p>
<h1 id="次数">次数</h1><p><code>/tes?t/</code> 匹配出现0次或1次<br><code>/te+st/</code> 匹配出现1次或更多<br><code>/t*est/</code> 匹配出现0次或更多<br><code>/test{n}/</code> 匹配出现n次<br>{n,} 表示至少重复n次<br>{n,m} 表示重复不少于n次，不多于m次<br>默认是贪婪的,匹配尽可能多</p>
<p><code>/e+?/</code> 次数操作符后加?,则变为懒惰,匹配尽可能少</p>
<h1 id="分组">分组</h1><p><code>/(ab)+/</code> 匹配一个或多个连续出现的ab</p>
<h1 id="或操作">或操作</h1><p><code>/(ab)+|(cd)+/</code> 匹配出现一次或多次的ab或cd<br><code>/ab|cd/</code> 匹配ab或者cd<br><code>/a(b|c)d/</code> 匹配abd或acd</p>
<h1 id="反向引用">反向引用</h1><p><code>/^([dtn])a\1/</code> 匹配a前后的字母相同,如dad</p>
<h1 id="后行断言">后行断言</h1><p>x(?!y) x只有不在y前面才匹配，y不会被计入返回结果<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/\d+(?!\.)/</span>.exec(<span class="string">'3.14'</span>) <span class="regexp">//</span> [<span class="string">"14"</span>]</div></pre></td></tr></table></figure></p>
<h1 id="尾部标志">尾部标志</h1><p>i 不区分大小写<br>g 匹配所有，而不是第一个<br>m 允许匹配多行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/<span class="built_in">test</span>/ig</div></pre></td></tr></table></figure>
<h1 id="RegExp">RegExp</h1><p><code>(new RegExp(&#39;1\\+1&#39;)).test(&#39;1+1&#39;)</code> 转义需要两个\</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/06/15/windows/" itemprop="url">
                  windows
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-06-15T22:38:01+08:00" content="2015-06-15">
              2015-06-15
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="PowerShell">PowerShell</h1><p><a href="http://www.howtogeek.com/50236/customizing-your-powershell-profile/" target="_blank" rel="external">http://www.howtogeek.com/50236/customizing-your-powershell-profile/</a><br>如果无法加载文件，<br>用管理员执行一次set-executionpolicy remotesigned即可</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">route delete <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span> mask <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span> <span class="number">172.18</span><span class="number">.0</span><span class="number">.1</span></div><div class="line">route delete <span class="number">10.10</span><span class="number">.10</span><span class="number">.0</span></div><div class="line">route delete <span class="number">172.18</span><span class="number">.0</span><span class="number">.0</span></div><div class="line">route delete <span class="number">172.21</span><span class="number">.0</span><span class="number">.0</span></div><div class="line">route delete <span class="number">172.22</span><span class="number">.0</span><span class="number">.0</span></div><div class="line">route add <span class="number">10.10</span><span class="number">.10</span><span class="number">.0</span> mask <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span> <span class="number">10.10</span><span class="number">.11</span><span class="number">.111</span></div><div class="line">route add <span class="number">172.18</span><span class="number">.0</span><span class="number">.0</span> mask <span class="number">255.255</span><span class="number">.0</span><span class="number">.0</span> <span class="number">172.18</span><span class="number">.0</span><span class="number">.1</span> IF <span class="number">12</span></div><div class="line">route add <span class="number">172.21</span><span class="number">.0</span><span class="number">.0</span> mask <span class="number">255.255</span><span class="number">.0</span><span class="number">.0</span> <span class="number">172.18</span><span class="number">.0</span><span class="number">.1</span> IF <span class="number">12</span></div><div class="line">route add <span class="number">172.22</span><span class="number">.0</span><span class="number">.0</span> mask <span class="number">255.255</span><span class="number">.0</span><span class="number">.0</span> <span class="number">172.18</span><span class="number">.0</span><span class="number">.1</span> IF <span class="number">12</span></div><div class="line">pause</div><div class="line"></div><div class="line">route print</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/05/03/css/" itemprop="url">
                  CSS & DOM 笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-05-03T19:22:57+08:00" content="2015-05-03">
              2015-05-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="selectors">selectors</h1><p><a href="http://www.w3.org/TR/selectors/#selectors" target="_blank" rel="external">http://www.w3.org/TR/selectors/#selectors</a></p>
<p>.style.cssText 元素的style属性值,直接.style是一个对象</p>
<p>色值三位#abc 转为6位#aabbcc 三位色值在CSS中可使用</p>
<h1 id="inline-block">inline-block</h1><p>inline-block元素间，换行或有空格，会显示出一个空格的间距，实际页面就是显示了一个空格<br>将非inline-block元素设置css(display: inline-block;)，也会产生该效果。<br>该问题常出现在DIV元素设置为inline-block<br>两种解决方法:<br>方法1. 将DIV元素写成一行,中间不要换行<br>方法2. 或者在父元素上设置font-size:0</p>
<h1 id="animation">animation</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#RecmWidget_img1</span>&#123;</div><div class="line">        <span class="attribute">left</span>: <span class="number">0px</span>;</div><div class="line">        <span class="attribute">animation-delay</span>: <span class="number">1s</span>;</div><div class="line">        <span class="attribute">animation-duration</span>: <span class="number">4.5s</span>;</div><div class="line">        <span class="attribute">animation-iteration-count</span>: infinite;</div><div class="line">        <span class="attribute">animation-name</span>: slideImage1;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">@<span class="keyword">keyframes</span> slideImage1 &#123;</div><div class="line">  0% &#123; <span class="attribute">left</span>: <span class="number">0</span>; <span class="attribute">opacity</span>:<span class="number">1</span>;<span class="attribute">z-index</span>:<span class="number">0</span>; &#125;</div><div class="line">  11% &#123; <span class="attribute">left</span>: -<span class="number">272px</span>;<span class="attribute">opacity</span>:<span class="number">1</span>;<span class="attribute">z-index</span>:<span class="number">0</span>; &#125;</div><div class="line">  12% &#123; <span class="attribute">left</span>: -<span class="number">272px</span>; <span class="attribute">opacity</span>:<span class="number">0</span>; <span class="attribute">z-index</span>:-<span class="number">1</span>; &#125;</div><div class="line">  13% &#123; <span class="attribute">left</span>: <span class="number">272px</span>; <span class="attribute">opacity</span>:<span class="number">0</span>; <span class="attribute">z-index</span>:-<span class="number">1</span>; &#125;</div><div class="line">  14% &#123; <span class="attribute">left</span>: <span class="number">272px</span>; <span class="attribute">opacity</span>:<span class="number">1</span>; <span class="attribute">z-index</span>:<span class="number">0</span>; &#125;</div><div class="line">  33% &#123;<span class="attribute">left</span>: <span class="number">272px</span>; <span class="attribute">opacity</span>:<span class="number">1</span>; <span class="attribute">z-index</span>:<span class="number">0</span>;&#125;</div><div class="line">  44% &#123;<span class="attribute">left</span>: <span class="number">272px</span>; <span class="attribute">opacity</span>:<span class="number">1</span>; <span class="attribute">z-index</span>:<span class="number">0</span>;&#125;</div><div class="line">  66% &#123;<span class="attribute">left</span>: <span class="number">272px</span>; <span class="attribute">opacity</span>:<span class="number">1</span>; <span class="attribute">z-index</span>:<span class="number">0</span>;&#125;</div><div class="line">  77% &#123; <span class="attribute">left</span>: <span class="number">0px</span>; <span class="attribute">opacity</span>:<span class="number">1</span>; <span class="attribute">z-index</span>:<span class="number">0</span>; &#125;</div><div class="line">  100% &#123; <span class="attribute">left</span>: <span class="number">0px</span>; <span class="attribute">opacity</span>:<span class="number">1</span>; <span class="attribute">z-index</span>:<span class="number">0</span>; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="css权重">css权重</h1><p>1.多个选择器可能会选择同一个元素，有3个规则，从上到下重要性降低：<br>    !important的用户样式<br>    !important的作者样式<br>    作者样式<br>    用户样式<br>    浏览器定义的样式 </p>
<p>2.CSS规范为不同类型的选择器定义了特殊性权重，特殊性权重越高，样式会被优先应用。<br>权重设定如下：<br>html选择器，权重为1；<br>类选择器，权重为10；<br>id选择器，权重为100；<br>这里还有一种情况：在html标签中直接使用style属性，这里的style属性的权重为1000；<br>即如下情况： </p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#x34y</span> &#123;<span class="attribute">color</span>:red&#125; </div><div class="line">&lt;<span class="selector-tag">p</span> id=x34y style=<span class="string">"color:green"</span>&gt;  优先选择style=<span class="string">""</span>设定的样式。</div></pre></td></tr></table></figure>
<p>例子： </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">h1</span>&#123;<span class="attribute">color</span>:blue&#125;  权重为1 </div><div class="line"><span class="selector-tag">p</span>  <span class="selector-tag">em</span>&#123;<span class="attribute">color</span>:yellow&#125;  权重为2 </div><div class="line"><span class="selector-class">.warning</span>&#123;<span class="attribute">color</span>:red&#125;  权重为10 </div><div class="line"><span class="selector-tag">p</span><span class="selector-class">.note</span> <span class="selector-tag">em</span><span class="selector-class">.dark</span>&#123;<span class="attribute">color</span>:grag&#125;  权重为22 </div><div class="line"><span class="selector-id">#main</span>&#123;<span class="attribute">color</span>:black&#125;  权重为100     这里还有一种情况：</div></pre></td></tr></table></figure>
<p>权重一样时如何处理？ </p>
<p>3.CSS样式的层叠原则——谁离我近，谁说了算。<br>当权重一样时，会采用“层叠原则” 后定义的会被应用。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">color</span>:yellow&#125; </div><div class="line"><span class="selector-tag">p</span>&#123;<span class="attribute">color</span>:red&#125;</div></pre></td></tr></table></figure></p>
<p>作用到这里   </p><p>我的什么颜色呢？</p><br>结果会是red的。 <p></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/05/03/semicolon/" itemprop="url">
                  javascript自动插入分号
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-05-03T19:01:55+08:00" content="2015-05-03">
              2015-05-03
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>有时会遇到没有分号的javascript代码，是不是javascript代码中的分号可以直接省略？并不是。无论我们写不写分号，都可能会遇到坑，下面讨论</p>
<p>可以不写分号，是因为javascript语言在解析时具有自动插入分号的功能，规则如下</p>
<h1 id="规则">规则</h1><p>1 分号仅在<code>}</code>之前或换行符之前被插入</p>
<p>2 分号仅在代码不能正常解析时被插入<br>如下代码：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">var</span> <span class="selector-tag">b</span> = function()&#123;return <span class="number">1</span>&#125;</div><div class="line"><span class="selector-tag">var</span> f = function()&#123;return <span class="number">2</span>&#125;</div><div class="line"></div><div class="line"><span class="comment">//情况1</span></div><div class="line"><span class="selector-tag">a</span> = <span class="selector-tag">b</span></div><div class="line"><span class="function"><span class="title">f</span><span class="params">()</span></span>     <span class="comment">//2</span></div><div class="line"></div><div class="line"><span class="comment">//情况2</span></div><div class="line"><span class="selector-tag">a</span> = <span class="selector-tag">b</span></div><div class="line">(f())   <span class="comment">//1</span></div></pre></td></tr></table></figure></p>
<p>对于上例两种情况，可能我们期望的结果是一样的，都如情况1. 但实际的结果却不一样。</p>
<p>当一行代码以<code>(, [, +, -, /</code>开始时，我们必须考虑它是否能和前面的代码一起解析，这样就会出现情况2. 对此，我们可以一遇到代码以<code>(, [, +, -, /</code>开头时，就在前面再加上一个<code>;</code><br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//情况2</span></div><div class="line">a = b</div><div class="line">;<span class="comment">(f()</span>)</div></pre></td></tr></table></figure></p>
<p>看到这里，我们会想，每行结尾都加上分号不就行了<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = b<span class="comment">;</span></div><div class="line">(<span class="name">f</span>())<span class="comment">;</span></div></pre></td></tr></table></figure></p>
<p>再看下例：<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//情况1</span></div><div class="line"><span class="selector-tag">return</span> &#123;<span class="attribute">a</span>:<span class="number">1</span>, <span class="attribute">b</span>:<span class="number">2</span>&#125;;</div><div class="line"></div><div class="line"><span class="comment">//情况2</span></div><div class="line"><span class="selector-tag">return</span> &#123;</div><div class="line">    <span class="attribute">a</span>:<span class="number">1</span>, </div><div class="line">    <span class="attribute">b</span>:<span class="number">2</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">//情况3</span></div><div class="line"><span class="selector-tag">return</span> </div><div class="line">&#123;</div><div class="line">    <span class="attribute">a</span>:<span class="number">1</span>, </div><div class="line">    <span class="attribute">b</span>:<span class="number">2</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>本例中，情况1和情况2都没有问题，但是情况3将被解析成<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">return</span>;</div><div class="line">&#123;</div><div class="line">    <span class="attribute">a</span>:<span class="number">1</span>, </div><div class="line">    b:<span class="number">2</span></div><div class="line">&#125;</div><div class="line">;</div></pre></td></tr></table></figure></p>
<p>可能是误按了一个回车或别的原因，但不会有任何报错，要特别注意！</p>
<p>还有一种情况<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;<span class="built_in">console</span>.log(key)&#125;)  <span class="comment">//不会报错</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> a = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">                <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;<span class="built_in">console</span>.log(key)&#125;)  <span class="comment">//会报错</span></div></pre></td></tr></table></figure></p>
<p>对于函数声明的两种方式，我们习惯于第一种结尾不加分号，第二种结尾加分号。但是如果第二种忘记加分号，则会报错，因为解析器认为这里是合理的代码，不需要自动加分号。</p>
<h1 id="总结">总结</h1><p>1 写不加分号的代码有助于理解javascript解析时自动加分号的规则<br>2 除非只有一个人，否则应按团队的代码规范。<br>3 即使都加分号，也要理解这套规则，难免遇到</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/04/24/markdown/" itemprop="url">
                  markdown笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-24T21:39:19+08:00" content="2015-04-24">
              2015-04-24
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="换行">换行</h1><p>插入<code>&lt;br&gt;</code><br>有时候换行不太好控制，可以回车后加一个中文空格</p>
<h1 id="内联样式"><font color="red">内联样式</font></h1><font color="green">hexo</font><font color="black">可以</font><font color="blue">直接</font><font color="yellow">使用</font><font color="orange">html标签给文字添加样式</font>

<h1 id="代码">代码</h1><p>行内代码，通过``开始和结尾</p>
<h1 id="标签">标签</h1><p><code>&lt;kbd&gt;</code><br><code>&lt;kbd&gt;Enter&lt;/kbd&gt;</code><br>给<code>&lt;kbd&gt;</code>标签增加CSS样式，可生成下面的效果：<br>使用 <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd> 重启电脑</p>
<h1 id="转义">转义</h1><p>使用\转义<br>需要转义的字符有<br><code>\ ` * _ {} [] () # + - . !</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/04/02/toString/" itemprop="url">
                  toString和valueOf的隐式转换
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-02T17:33:45+08:00" content="2015-04-02">
              2015-04-02
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>理论上，toString是转换为字符串的方法，valueOf是转换成数值的方法。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">'aaa'</span> + &#123;toString: <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> <span class="string">'bbb'</span>;&#125;&#125;   <span class="comment">//"aaabbb"</span></div><div class="line"><span class="number">11</span> + &#123;valueOf: <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> <span class="number">4</span>;&#125;&#125;   <span class="comment">//15</span></div></pre></td></tr></table></figure>
<p>如果，一个对象既有toString也有valueOf，那么是否仍按上面的规则呢?</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = &#123;</div><div class="line">    toString: <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">'111'</span>;</div><div class="line">    &#125;,</div><div class="line">    valueOf: <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">100</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">a+<span class="number">1</span>     <span class="comment">//101</span></div><div class="line">a+<span class="string">'b'</span>   <span class="comment">//"100b"</span></div></pre></td></tr></table></figure>
<p>实际情况是这样的，无论要转换为字符串还是数值，首先调用valueOf方法，如果不存在，那么调用toString方法。<del>如果valueOf方法返回不是基本类型，那么还会对返回结果再调用一次toString</del></p>
<p>那么，再看下例</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = &#123;</div><div class="line">    toString: <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">'111'</span>;</div><div class="line">    &#125;,</div><div class="line">    valueOf: <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;&#125;;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> b = &#123;&#125;;</div><div class="line"><span class="number">1</span>*a     <span class="comment">//111</span></div><div class="line"><span class="number">1</span>+a     <span class="comment">//"1111"</span></div><div class="line"><span class="number">1</span>+b     <span class="comment">//"1[object Object]"</span></div><div class="line"><span class="number">1</span>*b     <span class="comment">//NaN</span></div></pre></td></tr></table></figure>
<p>如果valueOf方法返回不是基本类型，那么就使用toString的返回值并进行强制类型转换</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = &#123;</div><div class="line">    toString: <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;&#125;;</div><div class="line">    &#125;,</div><div class="line">    valueOf: <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;&#125;;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="number">1</span>+a     <span class="comment">//Uncaught TypeError: Cannot convert object to primitive value(…)</span></div><div class="line"><span class="number">1</span>*a     <span class="comment">//Uncaught TypeError: Cannot convert object to primitive value(…)</span></div></pre></td></tr></table></figure>
<p>如果将valueOf和toString方法都返回对象，将导致无法隐式转换</p>
<p>结论：最好将valueOf和toString方法的返回结果统一，并且只使用其中一个方法，如toString</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/03/21/git/" itemprop="url">
                  Git & SVN
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-03-21T12:31:49+08:00" content="2015-03-21">
              2015-03-21
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/版本控制/" itemprop="url" rel="index">
                    <span itemprop="name">版本控制</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="添加SSH_keys">添加SSH keys</h1><p><a href="https://help.github.com/articles/generating-ssh-keys/" target="_blank" rel="external">https://help.github.com/articles/generating-ssh-keys/</a></p>
<h2 id="远程库克隆">远程库克隆</h2><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">clone</span> <span class="title">&lt;SSH</span> <span class="keyword">clone</span> <span class="title">URL</span>&gt;</div></pre></td></tr></table></figure>
<p><code>&lt;SSH clone URL&gt;</code> 在github相应仓库首页右侧点击SSH clone URL的复制按钮</p>
<h2 id="git_stage">git stage</h2><p>同git add，文件快照</p>
<h2 id="git_commit">git commit</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git commit <span class="_">-a</span></div></pre></td></tr></table></figure>
<p>递交所有内容</p>
<h2 id="提交到远程库">提交到远程库</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> master</div></pre></td></tr></table></figure>
<h1 id="远程库">远程库</h1><h2 id="首次git">首次git</h2><p>最好先设置好ssh key, 并在github中创建一个新仓库, 复制SSH地址, 下面是本地操作<br><code>cd blog</code> 进入要git的目录下<br><code>git init</code> 创建初始版本库<br><code>git add .</code> 将当前目录及子目录的所有文件添加到暂存区<br><code>git commit -m &#39;init repo&#39;</code> 提交暂存区到仓库区<br><code>git status</code> 查看暂存区<br><code>git remote add origin git@github.com:elona2011/blog.git</code> 添加远程库地址<br><code>git push -u origin master</code> 推送本地内容, -u是关联分支, 以后直接用<code>git push</code>即可</p>
<h2 id="之后git">之后git</h2><p><code>git add .</code><br><code>git commit -m &#39;xxx comment&#39;</code><br><code>git push</code></p>
<h1 id="Troubleshooting">Troubleshooting</h1><p>更新ssh key，导致无法push<br><a href="http://stackoverflow.com/questions/23749886/git-unable-to-resolve-references-when-pushing" target="_blank" rel="external">http://stackoverflow.com/questions/23749886/git-unable-to-resolve-references-when-pushing</a></p>
<h1 id="SVN">SVN</h1><p><a href="http://my.oschina.net/donhui/blog/385452" target="_blank" rel="external">http://my.oschina.net/donhui/blog/385452</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/03/17/JQuery/" itemprop="url">
                  JQuery
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-03-17T22:45:10+08:00" content="2015-03-17">
              2015-03-17
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>JQuery</p>
<h2 id="选择器">选择器</h2><p>$(“p~”)之后同级全部<br>$(“p+”)之后最近的一个<br>$(“div &gt; label”)子元素，不包括孙元素<br>$(“div label”)div的所有后代label</p>
<p>$(“li:last”)最后一个li<br>$(“li:first-child”)第组中的第一个<br>$(“li:eq(2)”)第3个li<br>$(“li:eq(-3)”)倒数第3个li<br>$(“li:contains(‘jQuery’)”)根据内容选择<br>$(“li:has(‘label’)”)根据元素选择<br>$(“input:hidden”)获取全部不可见的元素<br>$(“li[title=’蔬菜’]”)属性选择</p>
<p>$(“#frmTest :input”)<br>$(“:text”)<br>$(“:radio”)<br>$(“#frmTest :checkbox”)</p>
<p>$(‘div[title]’) 选择拥有title属性的div</p>
<p>.text和.html的区别</p>
<p>对jQuery对象取数组元素[0],[1],…取到的是DOM对象，可以使用DOM对象的原生属性和方法：<br>className属性：读取和设置class属性<br>classList属性：类似className属性，返回的是类数组<br>.classList.add():增加一个class<br>.classList.remove():移除一个class</p>
<p><code>$(function(){ });</code> 当文档载入完毕就执行<br><code>$(document).ready(function(){ })</code> 同上<br>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<p>=======</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>bed7b8dc1855a68fd337e1e0733c839809d00117</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/03/02/ubuntu/" itemprop="url">
                  Linux命令及Ubuntu
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-03-02T22:21:45+08:00" content="2015-03-02">
              2015-03-02
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="快捷键">快捷键</h1><p><code>Ctrl+Alt+t</code> 弹出终端<br><code>Ctrl+t</code> 新建标签页<br><code>Ctrl+w</code> 关闭当前标签页<br><code>Ctrl+Tab</code> 往右切换一个标签页</p>
<h2 id="launcher自定义sh">launcher自定义sh</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">sudo -i gedit <span class="regexp">/usr/</span>share<span class="regexp">/applications/</span>name.desktop</div><div class="line"></div><div class="line">[Desktop Entry]</div><div class="line">Type=Application</div><div class="line">Terminal=<span class="keyword">true</span></div><div class="line">Name=unmount-mount</div><div class="line">Icon=<span class="regexp">/path/</span>to<span class="regexp">/icon/i</span>con.svg</div><div class="line">Exec=<span class="regexp">/path/</span>to<span class="regexp">/file/m</span>ount-unmount.sh</div></pre></td></tr></table></figure>
<p>保存后将新创建的图标拖到launcher上</p>
<h1 id="文件">文件</h1><p><code>ln -s /media/nari/</code> #在当前文件夹创建软链接到/media/nari/</p>
<p><code>du -sh .</code> 当前目录总大小(包括子目录)<br><code>du -h -d 1 --all</code> 当前目录下的所有目录和文件的大小<br><code>du -sh .[^.]*</code> 当前目录下的所有隐藏目录和文件的大小<br><code>df -h</code> 显示挂载的所有文件系统的用量</p>
<p><code>rm -rf</code> 删除目录和文件及子目录和子文件(小心操作)</p>
<p><code>mount /dev/cdrom /mnt</code> 挂载光驱到/mnt<br><code>sudo mount /dev/sdb1 /media/work</code> 挂载sdb1分区<br><code>umount /dev/sdb1</code> 卸载分区，已挂载的分区在/etc/mtab文件中</p>
<p>开机自动挂载分区<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$ sudo fdisk -l  #查看分区</div><div class="line">...</div><div class="line">设备       启动      Start     末尾     扇区   Size Id 类型</div><div class="line">/dev/sdb1  *            <span class="number">63</span>  <span class="number">629153594</span>  <span class="number">629153532</span>   <span class="number">300</span>G  <span class="number">7</span> HPFS/NTFS/exFAT</div><div class="line">/dev/sdb2        <span class="number">629153656</span> <span class="number">1953523711</span> <span class="number">1324370056</span> <span class="number">631.5</span>G  f W95 扩展 (LBA)</div><div class="line">/dev/sdb5        <span class="number">629153658</span> <span class="number">1564775696</span>  <span class="number">935622039</span> <span class="number">446.1</span>G  <span class="number">7</span> HPFS/NTFS/exFAT</div><div class="line">/dev/sdb6       <span class="number">1564776448</span> <span class="number">1936959487</span>  <span class="number">372183040</span> <span class="number">177.5</span>G <span class="number">83</span> Linux</div><div class="line">/dev/sdb7       <span class="number">1936961536</span> <span class="number">1953523711</span>   <span class="number">16562176</span>   <span class="number">7.9</span>G <span class="number">82</span> Linux 交换 / Solaris</div><div class="line">...</div><div class="line"></div><div class="line">$ sudo gedit /etc/fstab</div><div class="line">... #在文件尾部添加，可以man fstab查看参数定义</div><div class="line">/dev/sdb1 /media/work ntfs defaults <span class="number">0</span> <span class="number">0</span></div></pre></td></tr></table></figure></p>
<h2 id="文件的颜色">文件的颜色</h2><p>蓝色表示目录；绿色表示可执行文件；红色表示压缩文件；浅蓝色表示链接文件；白色表示其他文件；黄色是设备文件</p>
<h1 id="网络">网络</h1><h2 id="iftop">iftop</h2><p>查看实时网络流量 interface top<br><code>sudo apt-get install iftop</code> 安装iftop </p>
<h1 id="关机">关机</h1><p><code>sudo shutdown -h 10</code> 十分钟后关机<br><code>sudo shutdown -h 23:30</code> 下一个23：30关机<br><code>shutdown -h now</code> 立即关机 不要sudo<br><code>reboot</code> 重启</p>
<h1 id="系统版本">系统版本</h1><p><code>cat /etc/redhat-release</code> Redhat/CentOS Linux release</p>
<h1 id="flash插件">flash插件</h1><p>chromium安装及flash插件安装, 需使用Pepper Flash Player, Adobe Flash Player无法使用<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo apt-get <span class="keyword">update</span></div><div class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> chromium-browser</div><div class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> pepperflashplugin-nonfree</div><div class="line">sudo <span class="keyword">update</span>-pepperflashplugin-nonfree <span class="comment">--install</span></div></pre></td></tr></table></figure></p>
<h1 id="java安装">java安装</h1><p>先从Oracle官网下载JDK<br>装JDK解压至<code>/usr/lib/jvm</code><br>配置环境变量命令<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$sudo gedit ~<span class="regexp">/.bashrc</span></div><div class="line">添加以下代码：</div><div class="line">export JAVA_HOME=/usr<span class="regexp">/lib/jvm</span><span class="regexp">/jdk1.7.0_79   </span></div><div class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre  </div><div class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/<span class="class"><span class="keyword">lib</span>:$&#123;<span class="title">JRE_HOME</span>&#125;/<span class="title">lib</span>  </span></div><div class="line">export PATH=$&#123;JAVA_HOME&#125;/<span class="symbol">bin:</span>$PATH</div><div class="line"></div><div class="line">激活配置</div><div class="line">source ~<span class="regexp">/.bashrc</span></div><div class="line"></div><div class="line">测试</div><div class="line">java -version</div><div class="line">javac -version</div></pre></td></tr></table></figure></p>
<h1 id="android环境安装">android环境安装</h1><p>下载Android Studio<br>解压后进入android-studio/bin/<br>运行./studio.sh</p>
<p>报错:<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Failed <span class="keyword">to</span> <span class="keyword">get</span> <span class="keyword">the</span> adb <span class="built_in">version</span>: Cannot <span class="built_in">run</span> program <span class="string">"adb"</span>: <span class="keyword">error</span>=<span class="number">2</span>, 没有那个文件或目录</div></pre></td></tr></table></figure></p>
<p>原因:由于是64bit的系统，而Android sdk只有32bit的程序，需要安装lib32<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get <span class="keyword">install</span> lib32z1</div><div class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> lib32stdc++<span class="number">6</span></div></pre></td></tr></table></figure></p>
<p>此外, 编译报错时还要安装SDK Tools里的Android Support Repository</p>
<h1 id="jekyll安装">jekyll安装</h1><p>安装ruby<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-<span class="built_in">get</span> install <span class="keyword">ruby</span></div></pre></td></tr></table></figure></p>
<p>修改ruby源<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gem sources --<span class="built_in">add</span> http<span class="variable">s:</span>//<span class="keyword">ruby</span>.taobao.org/ --<span class="built_in">remove</span> http<span class="variable">s:</span>//rubygems.org/ gem sources -<span class="keyword">l</span></div></pre></td></tr></table></figure></p>
<p>在ubuntu15.10下安装还需要安装下两步<br><figure class="highlight q"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-<span class="built_in">get</span> install ruby-<span class="built_in">dev</span> </div><div class="line">sudo apt-<span class="built_in">get</span> install zlib1g-<span class="built_in">dev</span></div></pre></td></tr></table></figure></p>
<p>然后就可以安装了<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gem <span class="keyword">install</span> github-pages sudo gem <span class="keyword">install</span> jekyll</div></pre></td></tr></table></figure></p>
<h1 id="资料搜索方法">资料搜索方法</h1><p><a href="https://github.com/getlantern/lantern" target="_blank" rel="external">https://github.com/getlantern/lantern</a><br><a href="https://github.com/hawx1993/accessing-Google" target="_blank" rel="external">https://github.com/hawx1993/accessing-Google</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/23/sublime/" itemprop="url">
                  sublime笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-02-23T22:57:22+08:00" content="2015-02-23">
              2015-02-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/开发环境/" itemprop="url" rel="index">
                    <span itemprop="name">开发环境</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="常用快捷键：">常用快捷键：</h1><p>ctrl+tab　切换标签页<br>ctrl+w 关闭当前标签</p>
<h1 id="VIM模式">VIM模式</h1><p>打开关闭VIM模式：<br>For Windows edition, Preferences -&gt; Settings-User -&gt; 注释vintage这一行，保存即可<br>For Linux edition, add one property in the file ‘Preferences.sublime-settings’: <code>&quot;ignored_packages&quot;:[]</code><br>like:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">	<span class="attr">"ignored_packages"</span>:[]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="VIM快捷键">VIM快捷键</h2><p><kbd>w</kbd> //向后移动一个word<br><kbd>b</kbd> //向前移动一个word<br><kbd>G</kbd> //光标移动到最后1行<br><kbd>35G</kbd> //光标移动到第35行</p>
<p><kbd>A</kbd> //当前行结尾处插入文字<br><kbd>I</kbd> //当前行首（非空格）处插入文字</p>
<p><kbd>yy</kbd> //复制光标所在那一行<br><kbd>p</kbd> //在当前行粘贴<br><kbd>D</kbd> //从当前位置删除到行尾</p>
<h1 id="常用插件">常用插件</h1><p>HTMLPrettify</p>
<h1 id="自定义系统设置">自定义系统设置</h1><p>菜单Preferences-&gt;Setting - User打开Preferences.sublime-settings，修改或添加内容。<br>1 启动时打开上次最后关闭的文件：<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"hot_exit"</span>: <span class="literal">true</span>,</div><div class="line">  <span class="attr">"remember_open_files"</span>: <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>2 关闭版本更新提示<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"update_check"</span>: <span class="literal">false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="自定义语法设置">自定义语法设置</h2><p>菜单Preferences-&gt;Setting - More-&gt;Syntax Specific - User打开JavaScript.sublime-settings，修改或添加内容。<br>1 设置TAB缩进长度<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"tab_size"</span>: <span class="number">4</span>,</div><div class="line">    <span class="attr">"translate_tabs_to_spaces"</span>: <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="自定义快捷键">自定义快捷键</h2><p>1 菜单Preferences-&gt;Browse Packages 打开 User 文件夹并创建文件close_tabs.py和copy_path_to_clipboard.py<br>内容见<a href="https://github.com/mjhea0/sublime-setup-for-python/tree/master/dotfiles" target="_blank" rel="external">https://github.com/mjhea0/sublime-setup-for-python/tree/master/dotfiles</a></p>
<p>2 菜单Preferences-&gt;Key Bindings - User 打开Default (Linux).sublime-keymap，内容如下<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  // Copy file name</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"keys"</span>: [<span class="string">"ctrl+shift+c"</span>],</div><div class="line">    <span class="attr">"command"</span>: <span class="string">"copy_path_to_clipboard"</span></div><div class="line">  &#125;,</div><div class="line">  // Close all other tabs</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"keys"</span>: [<span class="string">"ctrl+alt+w"</span>],</div><div class="line">    <span class="attr">"command"</span>: <span class="string">"close_tabs"</span></div><div class="line">  &#125;</div><div class="line">]</div></pre></td></tr></table></figure></p>
<h2 id="Linux下无法输入中文">Linux下无法输入中文</h2><p>参见：<a href="https://github.com/YoungZHU/sublime-imfix" target="_blank" rel="external">https://github.com/YoungZHU/sublime-imfix</a><br>sublime安装目录/opt/sublime_text/<br>创建一个shell script快速启动<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="keyword">vi</span> sublime.<span class="keyword">sh</span></div></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#! /bin/bash</span></div><div class="line"><span class="built_in">cd</span> /opt/sublime_text/</div><div class="line">LD_PRELOAD=./libsublime-imfix.so ./sublime_text</div></pre></td></tr></table></figure>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>chmod +x ./sublime.sh</div></pre></td></tr></table></figure>
<h2 id="安装Package_Control">安装Package Control</h2><p>Ubuntu下安装完Sublime，并没有带Package Control，安装方法如下：<br>1.点击Preferences &gt; Browse Packages菜单<br>2.进入打开的目录的上层目录，然后再进入Installed Packages/目录<br>3.下载<a href="https://sublime.wbond.net/Package%20Control.sublime-package" target="_blank" rel="external">Package Control.sublime-package</a>并复制到Installed Packages/目录<br>4.重启Sublime Text。<br>原文：<a href="http://www.itkubo.com/201401370.html" target="_blank" rel="external">http://www.itkubo.com/201401370.html</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/09/englishword/" itemprop="url">
                  English 牛逼词
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-02-09T12:04:32+08:00" content="2015-02-09">
              2015-02-09
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/英语/" itemprop="url" rel="index">
                    <span itemprop="name">英语</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>the dogs bollocks   牛逼，最棒的</li>
<li>hilariously stupid   逗逼</li>
<li>pretentious   装逼</li>
<li>retarded   二逼</li>
<li>Loser   人渣</li>
<li>Outrageous   屌</li>
<li>Unbelievable   我也是醉了</li>
<li>Airhead   三八</li>
<li>a nobody   屌丝</li>
<li>brain leakage   大脑进水</li>
<li>Nutter   神经病</li>
<li>perv   变态</li>
<li>not all there   二百五</li>
<li>to whine   撒娇</li>
<li>smooth   66666</li>
<li>lol   233333</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/01/21/javascript笔记/" itemprop="url">
                  javascript笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-01-21T20:56:51+08:00" content="2015-01-21">
              2015-01-21
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="数据类型">数据类型</h1><p>数据类型为：undefined, boolean, number, string, object，前4种为基本类型，第5种为引用类型<br>基本类型无法添加属性,如需添加可以在prototype上添加<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="string">'111'</span>;</div><div class="line">a.value = <span class="string">'222'</span>;</div><div class="line"><span class="built_in">console</span>.log(a.value); <span class="comment">//undefine</span></div><div class="line"><span class="built_in">console</span>.log(a.length); <span class="comment">//3</span></div><div class="line"><span class="built_in">String</span>.prototype.bb = <span class="string">'33'</span>;</div><div class="line">a.bb; <span class="comment">//'33'</span></div></pre></td></tr></table></figure></p>
<p>typeof可返回6种类型：undefined, boolean, number, string, object, function</p>
<p>基本类型中的假值<br>false, 0, “”, NaN, null, undefined, 除了这6个值，其它所有值均可隐式转换为true </p>
<h1 id="变量">变量</h1><p>若变量声明不在顶部,则会自动声明,但不赋值<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span><span class="params">()</span><span class="comment">&#123;</span></span></div><div class="line">         alert(a);</div><div class="line">         var a = 2; //等价于在第一个alert前有一个var a;此处为a=2;</div><div class="line">         alert(a);</div><div class="line">&#125;</div><div class="line"><span class="title">b</span><span class="params">()</span>;</div></pre></td></tr></table></figure></p>
<h1 id="表达式">表达式</h1><p>字符串比较中是按第一个不相同的字符的ascall码值来比较的<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">'2'</span> &gt; <span class="string">'10'</span> <span class="comment">//true</span></div></pre></td></tr></table></figure></p>
<p>为什么++[[]][+[]]+[+[]] === ‘10’是true?<br>首先<code>+[] === 0</code><br>原表达式可转换为<code>++[[]][0]+[0]</code><br><code>[[]][0]</code> 表示返回内部数组 ([])<br>转换为<code>++[]+[0]</code>,可以这么理解,但不能这么写,因为<code>[]+1==1</code>,但<code>++[]</code>会报错<br>然后转换为1+[0]<br>最终为1+’0’=’10’</p>
<h1 id="对象">对象</h1><p>对象的赋值实际是保存该对象的地址<br>对象的属性的赋值分为两步，先是判断该对象是否有该属性，没有就先创建；然后赋值<br>例:<br><figure class="highlight tp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var a = &#123;n:<span class="number">1</span>&#125;; <span class="comment">//a获取对象&#123;n:1&#125;的地址</span></div><div class="line">var b = a; <span class="comment">// 将a的值赋给b，b也获取对象&#123;n:1&#125;的地址</span></div><div class="line">a.x = a = &#123;n:2&#125;; <span class="comment">//首先在对象上创建属性，得到对象&#123;n:1, x:undefine&#125;，此时a和b都指向它；然后a获取对象&#123;n:2&#125;的地址，a改变了值；对象&#123;n:1, x:undefine&#125;的x获取对象&#123;n:2&#125;的地址</span></div><div class="line">alert(a.x);<span class="comment">// --&gt; undefined</span></div><div class="line">alert(b.x);<span class="comment">// --&gt; &#123;n:2&#125;</span></div></pre></td></tr></table></figure></p>
<h2 id="对象的类型">对象的类型</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span><span class="params">()</span></span>&#123;&#125;</div><div class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> A();</div><div class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> a === <span class="string">'object'</span>)&#123;&#125; <span class="comment">//基本类型判断</span></div><div class="line"><span class="keyword">if</span>(a <span class="keyword">instanceof</span> A)&#123;&#125; <span class="comment">//实例判断</span></div><div class="line"><span class="keyword">if</span>(a.constructor === A)&#123;&#125; <span class="comment">//构造器函数判断</span></div></pre></td></tr></table></figure>
<h1 id="函数">函数</h1><h2 id="常用技巧">常用技巧</h2><p>缓存函数<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span></span> getElements(<span class="keyword">name</span>)&#123;</div><div class="line">  <span class="keyword">if</span>(<span class="comment">!getElemnts.cache) getElements.cache = &#123;&#125;;</span></div><div class="line">  <span class="keyword">return</span> getElements.cache[<span class="keyword">name</span>] = getElements.cache[<span class="keyword">name</span>] || document.getElementsByTagName(<span class="keyword">name</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>DOM的缓存(地址缓存，数据都是实时最新的)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> cache = &#123;&#125;;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">dom</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> cache[dom] ? cache[dom] : cache[dom] = <span class="built_in">document</span>.getElementById(dom);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> b= a();</div><div class="line"><span class="built_in">console</span>.log(b(<span class="string">"test"</span>).innerHTML);</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">'test'</span>).innerHTML=<span class="string">"you"</span>;</div><div class="line"><span class="built_in">console</span>.log(b(<span class="string">"test"</span>).innerHTML);</div></pre></td></tr></table></figure></p>
<p>函数判断<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> <span class="title">isFunction</span>(fn)&#123;</div><div class="line">  <span class="keyword">return</span> <span class="type">Object.prototype.toString.call(fn)</span> === <span class="string">"[object Function]"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>重载函数<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addMethod</span>(<span class="params">object, name, fn</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> old = object[name];</div><div class="line">  object[name] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(fn.length === <span class="built_in">arguments</span>.length)</div><div class="line">      <span class="keyword">return</span> fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span> old === <span class="string">'function'</span>)</div><div class="line">      <span class="keyword">return</span> old.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>私有变量<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Ninjia</span><span class="params">()</span></span>&#123;</div><div class="line">  <span class="keyword">var</span> feints = <span class="number">0</span>;</div><div class="line">  <span class="keyword">this</span>.getFeints = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">return</span> feints;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">this</span>.feint = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">    feints++;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninjia();</div><div class="line">ninja.feint();</div></pre></td></tr></table></figure></p>
<h2 id="基本概念">基本概念</h2><p>函数中没有return语句，则相当于return undefine;</p>
<h2 id="this">this</h2><p>this是隐式传入参数，改变this的方法就是将函数作为对象的方法调用</p>
<p>立即执行函数中的this<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> c = &#123;d:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  &#125;)();</div><div class="line">&#125;&#125;;</div><div class="line">c.d();</div><div class="line">-<span class="built_in">Object</span> &#123; d: c.d() &#125; <span class="comment">//第1个this</span></div><div class="line">-<span class="built_in">window</span>  <span class="comment">//第2个this</span></div></pre></td></tr></table></figure></p>
<p>隐式绑定<br>例1：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> me = &#123;</div><div class="line">	a: <span class="number">3</span>,</div><div class="line">	show:show</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</div><div class="line">&#125;</div><div class="line">me.show(); <span class="comment">//this绑定到me上，输出3</span></div></pre></td></tr></table></figure>
<p>例2：<br>如果将me.show赋值给一个变量，再调用：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> show1 = me.show;</div><div class="line">show1(); <span class="comment">//undefine,和上例完全不同！！</span></div></pre></td></tr></table></figure>
<p>例3：<br>同样，作为回调函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">setTimeout(me.show, <span class="number">1000</span>); <span class="comment">//undefine,参数传递其实就是一种赋值，结果和例2一样</span></div></pre></td></tr></table></figure>
<p>例4：<br>例3的解决方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;me.show();&#125;, <span class="number">1000</span>); <span class="comment">//3,传递了一个匿名函数直接调用me.show()，结果和例1一样</span></div></pre></td></tr></table></figure>
<h2 id="参数赋值">参数赋值</h2><p>如果函数内部对于参数整体赋值修改，那么都不会影响外部，无论参数是数组，对象。<br>但如果该参数有元素(数组)或属性(对象)，函数内直接对元素或属性赋值，那么将影响到函数外部。<br>实际上，该问题和对象的引用有关。当复制对象时，操作的是对象的引用。但为对象添加修改属性时，操作的是对象本身。</p>
<h2 id="立即执行函数">立即执行函数</h2><p>(function b(){})();<br>b();    //抛出一个referenceError,b函数只能在函数表达式内部访问</p>
<p>对象的属性名都是字符串，如果不是，也会先转化成字符串，如下：<br><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var myObject=&#123;&#125;;</div><div class="line">myObjcet<span class="string">[true]</span> = <span class="string">"foo"</span>;</div><div class="line">myObject<span class="string">[3]</span> = <span class="string">"bar"</span>;</div><div class="line">myObject<span class="string">[myObject]</span> = <span class="string">"baz"</span>;</div><div class="line">myObject<span class="string">['true"]</span>; //<span class="string">"foo"</span></div><div class="line">myObject<span class="string">["3"]</span>; //<span class="string">"bar"</span></div><div class="line">myObject<span class="string">["[object Object]</span><span class="string">"]; //"</span>baz<span class="string">"</span></div></pre></td></tr></table></figure></p>
<p>还可以写成:<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">~<span class="function"><span class="keyword">function</span> <span class="title">b</span><span class="params">()</span><span class="comment">&#123;&#125;</span><span class="params">()</span>;</span></div><div class="line">+<span class="function"><span class="keyword">function</span> <span class="title">b</span><span class="params">()</span><span class="comment">&#123;&#125;</span><span class="params">()</span>;</span></div></pre></td></tr></table></figure></p>
<h2 id="get和set">get和set</h2><p>var my={<br>get a(){return this.<em>a</em>;},<br>set a(val){this.<em>a</em>=val*2;}<br>};<br>my.a=2;<br>my.a; //4</p>
<p>所有的普通对象都可以通过对于Object.prototype的委托来访问hasOwnProperty()，但有的对象可能没连接到Object.prototype（通过Object.create(null)来创建），这时访问myObject.hasOwnProperty()会失败。但可以使用Object.prototype.hasOwnProperty.call(myObject, “a”)</p>
<p>可枚举相当于“出现在对象属性的遍历中”，即for(var k in myObject){…}遍历可枚举属性<br>for…in可遍历对象的可枚举属性列表，包括[[prototype]]链<br>(“b” in myObject); //查找[[Prototype]]链<br>myObject.hasOwnProperty(“b”); //只查找对象直接包含的属性<br>Object.keys(myObject); //返回一个数组，包含所有可枚举属性，不查[[Prototype]]链<br>Object.getOwnPropertyName(myObject); //返回一个数组，包含所有属性，不查[[Prototype]]链</p>
<h1 id="Ajax">Ajax</h1><h2 id="XMLHttpRequest">XMLHttpRequest</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">xhr.open(<span class="string">'get'</span>, <span class="string">'http://yanjie.me/'</span>);</div><div class="line">xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">/* do something */</span> &#125;</div><div class="line">xhr.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/json'</span>);</div><div class="line">xhr.setRequestHeader(<span class="string">'Content-Length'</span>, <span class="built_in">JSON</span>.stringify(data).length);</div><div class="line">xhr.send(<span class="built_in">JSON</span>.stringify(data));</div><div class="line">xhr.status</div><div class="line">xhr.responseText</div></pre></td></tr></table></figure>
<h2 id="CORS(Cross_Origin_Resourse-Sharing)">CORS(Cross Origin Resourse-Sharing)</h2><p>验证简单跨域请求与非简单跨域请求合法性的区别就在于，验证非简单跨域请求前，浏览器向服务器发送一个OPTIONS方法的预检请求来加以判断，如果预检失败，实际请求将被丢弃。而简单跨域请求浏览器会正常发送请求，再对返回头加以判断以检查请求的合法性。在检查失败时，浏览器将会阻止脚本对返回内容的访问。<br>简单跨域请求并不会包含下面的HTTP头。而预检请求将会发送以下HTTP头<br>Origin: 普通的HTTP请求也会带有，在CORS中专门作为Origin信息供后端比对<br>Access-Control-Request-Method: 接下来请求的方法，例如PUT, DELETE等等<br>Access-Control-Request-Headers: 自定义的头部，所有用setRequestHeader方法设置的头部都将会以逗号隔开的形式包含在这个头中<br>其他头，例如实际请求的头部，Cookie头等都将不被包含在预检请求中。<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Access-Control-Allow-<span class="string">Origin:</span> <span class="string">"*"</span> <span class="comment">//表示该网站支持跨域请求</span></div></pre></td></tr></table></figure></p>
<p>https的页面请求http的ajax请求会报错</p>
<h2 id="JSONP">JSONP</h2><p><a href="http://www.cnblogs.com/dowinning/archive/2012/04/19/json-jsonp-jquery.html" target="_blank" rel="external">http://www.cnblogs.com/dowinning/archive/2012/04/19/json-jsonp-jquery.html</a></p>
<h1 id="ES6">ES6</h1><h2 id="let">let</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;<span class="number">5</span>;i++)&#123;</div><div class="line"> setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(i);</div><div class="line"> &#125;,i*<span class="number">1000</span>);</div><div class="line">&#125; <span class="comment">//输出4个5</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;<span class="number">5</span>;i++)&#123;</div><div class="line"> setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(i);</div><div class="line"> &#125;,i*<span class="number">1000</span>);</div><div class="line">&#125; <span class="comment">//输出1，2，3，4</span></div></pre></td></tr></table></figure>
<h2 id="class">class</h2><p>与ES5一样，实例的属性除非显式定义在其本身（即定义在this对象上），否则都是定义在原型上（即定义在class上）<br>class Point {<br>  constructor(x, y) {<br>    this.x = x;<br>    this.y = y;<br>  }</p>
<p>  toString() {<br>    return ‘(‘+this.x+’, ‘+this.y+’)’;<br>  }<br>}</p>
<h2 id="不建议使用">不建议使用</h2><p>arguments.callee指向当前函数(将被废弃)<br>使用内联命名函数</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=&#123;</div><div class="line">  b: <span class="function"><span class="keyword">function</span> <span class="title">c</span><span class="params">(n)</span></span>&#123;</div><div class="line">    <span class="keyword">return</span> n &gt; <span class="number">1</span> ? c(n<span class="number">-1</span>) + <span class="string">"_@"</span> : <span class="string">"@"</span>;</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>arguments.callee.caller指向调用当前函数的函数</p>
<h1 id="函数速查">函数速查</h1><h2 id="String">String</h2><p>String(true) // “true” 转换为字符串</p>
<h3 id="indexOf">indexOf</h3><p>确定一个字符串在另一个字符串中的位置,0开始.如果返回-1,表示不匹配</p>
<p>match<br>search</p>
<h3 id="replace">replace</h3><p>replace方法的第二个参数是一个函数时，将匹配内容作为函数参数，替换为函数返回值。<br>它的第一个参数是捕捉到的内容，第二个参数是捕捉到的组匹配（有多少个组匹配，就有多少个对应的参数）<br><figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">'/* <span class="variable">&lt;span id="test1"&gt;</span><span class="number">111</span>&lt;/span&gt;<span class="variable">&lt;span id="test2"&gt;</span><span class="number">222</span>&lt;/span&gt; */'.replace(</div><div class="line">  /(<span class="variable">&lt;span id=")(.*?)("&gt;</span>)(<span class="variable">&lt;\/span&gt;</span>)/g,</div><div class="line">  function(<span class="built_in">match</span>, <span class="variable">$1</span>, <span class="variable">$2</span>, <span class="variable">$3</span>, <span class="variable">$4</span>)&#123;</div><div class="line">    return <span class="variable">$1</span> + <span class="variable">$2</span> + <span class="variable">$3</span> + prices[<span class="variable">$2</span>] + <span class="variable">$4</span>;</div><div class="line">  &#125;</div><div class="line">);</div></pre></td></tr></table></figure></p>
<h3 id="split">split</h3><p>返回按指定规则分割后的数组７<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> e = <span class="string">"a,b,c"</span>.split(<span class="regexp">/,\s*/</span>);</div></pre></td></tr></table></figure></p>
<h2 id="Array">Array</h2><h3 id="join">join</h3><p>join方法以参数作为分隔符，将所有数组成员组成一个字符串返回。如果不提供参数，默认用逗号分隔。</p>
<h3 id="splice">splice</h3><p>第一个参数是删除的起点，第二个参数是被删除的个数。之后的参数表示要被插入数组的新元素。返回值是被删除的元素[数组]</p>
<h3 id="concat">concat</h3><p>传入参数需转为数组<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> [<span class="number">1</span>].concat(<span class="built_in">arguments</span>);&#125;</div><div class="line"><span class="literal">undefined</span> <span class="comment">//return</span></div><div class="line">a(<span class="number">2</span>,<span class="number">3</span>)</div><div class="line"><span class="built_in">Array</span> [ <span class="number">1</span>, Arguments ] <span class="comment">//return</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> [<span class="number">1</span>].concat(<span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>));&#125;</div><div class="line"><span class="literal">undefined</span> <span class="comment">//return</span></div><div class="line">a(<span class="number">2</span>,<span class="number">3</span>)</div><div class="line"><span class="built_in">Array</span> [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ] <span class="comment">//return</span></div></pre></td></tr></table></figure></p>
<h2 id="document">document</h2><h3 id="getElementsByTagName(name)">getElementsByTagName(name)</h3><p>The special string “*” represents all elements.</p>
<h3 id="选择器性能测试">选择器性能测试</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.time(<span class="string">'jq'</span>);</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>;i&lt;<span class="number">100000</span>;i++)$(<span class="string">'#main_panel #action_list_page #action_list li'</span>);</div><div class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'jq'</span>);</div></pre></td></tr></table></figure>
<p>耗时：getElementsByTagName&lt;querySelector&lt;querySelectorAll&lt;jq选择器</p>
<h2 id="Element">Element</h2><p>$(a).data()添加自定义属性在a的缓存中；读取时，先从缓存中读，再从data-*属性中读</p>
<p>$(a).attr()添加自定义属性在a上<br>a.setAttribute(‘aaa’,’111’)设置属性在a.attributes下<br>a.getAttribute(‘aaa’)<br>$(a).attr(‘aaa’)</p>
<p>a.setAttribute(‘data-aaa-bbb’,’211’)设置属性在a.dataset下<br>a.getAttribute(‘data-aaa-bbb’)<br>a.dataset.aaaBbb<br>$(a).attr(‘data-aaa-bbb’)</p>
<p>el.closest(selector)返回当前元素节点的最接近的非子元素（父元素或节点本身）<br>el.classList.add(‘aaa’)<br>el.classList.remove(‘className’);<br>el.classList.contains(‘className’);<br>el.classList.toggle(‘className’);</p>
<h2 id="window">window</h2><h3 id="setTimeout">setTimeout</h3><p>返回一个整数，表示定时器的编号，以后可以用来取消该定时器。</p>
<h2 id="console">console</h2><p>打印时间间隔，能显示到微秒级，new Date()只显示到毫秒级<br>console.time(‘a’)<br>console.timeEnd(‘a’)</p>
<h1 id="文章收集">文章收集</h1><p>JS模板<br><a href="http://div.io/topic/758" target="_blank" rel="external">http://div.io/topic/758</a> </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/01/09/vps/" itemprop="url">
                  VPS上搭建简易Blog
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-01-09T18:00:30+08:00" content="2015-01-09">
              2015-01-09
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="VPS">VPS</h1><p>网上推荐的VPS主要有三款：<a href="https://www.linode.com" target="_blank" rel="external">Linode</a>, <a href="https://www.digitalocean.com" target="_blank" rel="external">DigitalOcean</a>, <a href="https://bandwagonhost.com" target="_blank" rel="external">Bandwagon</a><br>我先开的DigitalOcean，大概一个月30元。后来看到Bandwagon太便宜了，一年只要60多，忍不住也开了。两个VPS都是最低配，5G硬盘，512RAM，带宽流量肯定用不完，用来搭一个简单的BLOG足够了。实测速度两者也几乎一样，之后使用过程中感觉Bandwagon还更稳定一些。</p>
<h1 id="系统安装">系统安装</h1><p>Bandwagon使用默认的Centos 6 x86，DigitalOcean使用CentOS 6.5 x64</p>
<p>以下以Bandwagon为例：<br>修改root密码<br><img src="/2015/01/09/vps/1.png" alt="1.png" title=""></p>
<h1 id="LNMP安装">LNMP安装</h1><p><a href="http://lnmp.org/install.html" target="_blank" rel="external">LNMP一键安装包</a></p>
<h1 id="Blog系统">Blog系统</h1><p>我个人使用的是hexo静态博客系统，优点是简单方便，将生成的public文件夹下的内容全部上传到VPS的/home/wwwroot/default/目录下即可。<br>具体一些使用方法可参考：<a href="/2015/01/08/hexo/">使用hexo布置blog</a></p>
<h1 id="远程连接">远程连接</h1><p>ubuntu下使用ssh命令和scp命令，ssh用于远程控制VPS，scp远程拷贝文件<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>ssh -p <span class="number">12345</span> <span class="number">123.123</span>.<span class="number">123.123</span>  <span class="comment">#12345是端口号</span></div><div class="line"><span class="variable">$ </span>scp -r -P <span class="number">12345</span> * username<span class="variable">@123</span>.<span class="number">123.123</span>.<span class="number">123</span><span class="symbol">:/home/wwwroot/default/</span></div></pre></td></tr></table></figure></p>
<p>windows下可使用putty，ftp等工具</p>
<h1 id="域名绑定">域名绑定</h1><p>域名解析里绑定VPS的IP<br><img src="/2015/01/09/vps/2.png" alt="2.png" title=""></p>
<p>这时可能会出现用IP可以访问，但是用域名却出现403 forbidden，原因主要是nginx.conf没配置好<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ nginx -t  #显示nginx.<span class="keyword">conf</span>路径</div><div class="line">$ vi /usr/<span class="keyword">local</span>/nginx/<span class="keyword">conf</span>/nginx.<span class="keyword">conf</span></div></pre></td></tr></table></figure></p>
<p>所有绑定的www开头和无www开头的域名都要在server_name后设置<br><img src="/2015/01/09/vps/3.png" alt="3.png" title=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/01/08/hexo/" itemprop="url">
                  使用hexo布置blog
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-01-08T17:53:31+08:00" content="2015-01-08">
              2015-01-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="命令行">命令行</h1><p><code>npm install hexo-cli -g</code> 安装<br><code>hexo new [post/draft/page] &lt;title&gt;</code> 生成[发布/草稿/页面]文档<br><code>hexo s</code> 启动服务预览，并监视文件自动更新<br><code>hexo publish &lt;title&gt;</code> 草稿转为公开文章<br><code>hexo d</code> === <code>hexo deploy</code> 自动发布<br><code>hexo d -g</code> === <code>hexo g -d</code> 生成并发布</p>
<h1 id="tags">tags</h1><p><code>tags: [js, jq]</code> 文章头部的tags写法</p>
<h1 id="图片引用">图片引用</h1><p>1 将_config.yml文件中的post_asset_folder设为true，此后用hexo new创建的文件都会有一个同名文件夹<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">post_asset_folder:</span> <span class="literal">true</span>   <span class="comment">//_config.yml</span></div></pre></td></tr></table></figure></p>
<p>2 将被引图片放在同名文件夹中，通过以下语法引用<br><figure class="highlight django"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">asset_path</span> slug %&#125;</span><span class="xml"></span></div><div class="line"><span class="template-tag">&#123;% <span class="name">asset_img</span> slug [title] %&#125;</span><span class="xml"></span></div><div class="line"><span class="template-tag">&#123;% <span class="name">asset_link</span> slug [title] %&#125;</span><span class="xml"></span></div><div class="line"></div><div class="line"><span class="template-tag">&#123;% <span class="name">asset_img</span> example.jpg This is an example image %&#125;</span><span class="xml"></span></div></pre></td></tr></table></figure></p>
<h1 id="deploy">deploy</h1><p>可以使用HTTPS和SSH两种方式。SSH可以免去deploy时输入密码<br>使用HTTPS deploy方法后（ <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">https://hexo.io/docs/deployment.html</a> ），windows下可能会报错：</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">bash: /dev/tty: No such device<span class="built_in"> or </span>address</div><div class="line">error: failed to<span class="built_in"> execute </span>prompt script (exit code 1)</div><div class="line">fatal: could<span class="built_in"> not </span>read Username for 'https://github.com': No error</div><div class="line">FATAL Something's wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html</div><div class="line">Error: bash: /dev/tty: No such device<span class="built_in"> or </span>address</div><div class="line">error: failed to<span class="built_in"> execute </span>prompt script (exit code 1)</div><div class="line">fatal: could<span class="built_in"> not </span>read Username for 'https://github.com': No error</div><div class="line">    at ChildProcess.&lt;anonymous&gt; (E:\blog\blog\node_modules\hexo-deployer-git\node_modules\hexo-util\lib\spawn.js:42:17)</div><div class="line">    at emitTwo (events.js:87:13)</div><div class="line">    at ChildProcess.emit (events.js:172:7)</div><div class="line">    at maybeClose (internal/child_process.js:818:16)</div><div class="line">    at Process.ChildProcess._handle.onexit (internal/child_process.js:211:5)</div></pre></td></tr></table></figure>
<p>解决方法：<br>1.设置SSH KEY<br>2._config.yml文件的repo修改为SSH URL<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">deploy</span>:</div><div class="line">  <span class="attribute">type</span>: git</div><div class="line">  <span class="attribute">repo</span>: git<span class="variable">@github</span>.<span class="attribute">com</span>:elona2011/elona2011.github.io.git</div><div class="line">  <span class="attribute">branch</span>: master</div></pre></td></tr></table></figure></p>
<p>Troubleshooting:<br>更新ssh key，导致无法push<br>删除.deploy_git/refs/heads/master，再次deploy就可以成功<br><a href="http://stackoverflow.com/questions/23749886/git-unable-to-resolve-references-when-pushing" target="_blank" rel="external">http://stackoverflow.com/questions/23749886/git-unable-to-resolve-references-when-pushing</a></p>
<p>参考：<br><a href="https://help.github.com/articles/generating-ssh-keys/" target="_blank" rel="external">https://help.github.com/articles/generating-ssh-keys/</a><br><a href="https://help.github.com/articles/using-ssh-over-the-https-port/" target="_blank" rel="external">https://help.github.com/articles/using-ssh-over-the-https-port/</a><br><a href="http://www.yczmm.com/hexo-deploy%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3.html" target="_blank" rel="external">http://www.yczmm.com/hexo-deploy%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3.html</a><br><a href="http://eesly.github.io/2014/10/26/%E5%88%A9%E7%94%A8ssh%E7%9C%81%E5%8E%BB%E5%9C%A8hexo-deploy%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81/" target="_blank" rel="external">http://eesly.github.io/2014/10/26/%E5%88%A9%E7%94%A8ssh%E7%9C%81%E5%8E%BB%E5%9C%A8hexo-deploy%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81/</a></p>
<h1 id="Next主题">Next主题</h1><p><code>layout/_partials/header.swig</code> 头部模板, 可以修改结构和样式<br>_config.yml 可设置菜单的FontAwesome图标</p>
<p><code>source/css/_variables/base.styl</code> 基础样式<br><code>$font-size-base           = 20px</code> 基础字体大小</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="亚木" />
          <p class="site-author-name" itemprop="name">亚木</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">31</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">亚木</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
